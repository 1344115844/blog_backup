<!DOCTYPE html>
<head>
	<meta http-equiv='Content-Type' content='text/html;charset=utf-8'>
	<meta name='viewport' content='width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no'>
	<title>
		彻底理解cookie，session，token
	</title>
	<script src='https://cdn.bootcss.com/jquery/1.10.2/jquery.min.js'>
	</script>
	<style>
		a {color: #607fa6;text-decoration:none;word-wrap:break-word;word-break:break-all;}.rich_media_title{padding-bottom:10px;margin-bottom:14px;border-bottom:1px
		solid #e7e7eb;}.rich_media_meta{display:inline-block;vertical-align:middle;margin-right:8px;margin-bottom:10px;font-size:16px;}.rich_media_meta_text{color:#8c8c8c;}.rich_media_meta_list
		em {font-style: normal;}@media screen and (max-width:768px){.rich_media{position:
		relative;padding: 20px 15px 15px;background-color: #fff;}}.rich_media_content
		* {max-width: 100%!important;box-sizing: border-box!important;-webkit-box-sizing:
		border-box!important;word-wrap: break-word!important;}.rich_media_content
		blockquote {margin: 0;padding-left: 10px;border-left: 3px solid #dbdbdb;}.rich_media_content
		.list-paddingleft-2 {padding-left: 2.2em;}a.rich_media_meta_nickname{display:
		none;}@media screen and (min-width:1025px){.rich_media{position:relative;}a.rich_media_meta_nickname{display:inline-block!important;}span.rich_media_meta_nickname
		{display: inline-block!important;}.rich_media {width:670px;margin-left:auto;margin-right:auto;}}a.fwjm{display:
		block;font-size: 12px;color: #ececec;}.tenvideo_player {position: relative;width:
		100 %;height: 100 %;margin: auto;background: #000;}* {margin:0px;padding:0px}
		.dy_all {text-align: center;margin: 30px 0;} .dy_all a {display: inline-block;height:
		38px;line-height: 38px;padding: 0 18px;background-color: #009688;color:
		#fff;white-space: nowrap;font-size: 14px;border: none;border-radius: 2px;cursor:
		pointer;text-align: center;outline: 0;-webkit-appearance: none;transition:
		all .3s;-webkit-transition: all .3s;box-sizing: border-box;}
	</style>
</head>
<body>
	<div id='js_article' class='rich_media'>
		<div>
			<a href='https://mp.weixin.qq.com/s/kTAqZVhjU4VxsykqzAoF7w' target='_blank'>
				https://mp.weixin.qq.com/s/kTAqZVhjU4VxsykqzAoF7w
			</a>
			<br/>
			<a href='https://www.52pojie.cn' class='fwjm' target='_blank'>
				提供的爬取软件来源于：52pojie.cn@夜泉 免费下载使用
			</a>
		</div>
		<div id="img-content">

                
                <h2 class="rich_media_title" id="activity-name">彻底理解cookie，session，token</h2>
                <div id="meta_content" class="rich_media_meta_list">
                                                                                <span class="rich_media_meta rich_media_meta_text">
                                                墨颜丶
                                            </span>
                                        
                                        <span class="rich_media_meta rich_media_meta_nickname" id="profileBt"><a href="javascript:void(0);">Java团长</a>
                      <div id="js_profile_qrcode" class="profile_container" style="display:none;">
                          <div class="profile_inner">
                              <strong class="profile_nickname">Java团长</strong>
                              <img class="profile_avatar" id="js_profile_qrcode_img" src="" alt="">

                              <p class="profile_meta">
                              <label class="profile_meta_label">微信号</label>
                              <span class="profile_meta_value">javatuanzhang</span>
                              </p>

                              <p class="profile_meta">
                              <label class="profile_meta_label">功能介绍</label>
                              <span class="profile_meta_value">专注Java相关技术：SSM、Spring全家桶、微服务、MySQL、MyCat、集群、分布式、中间件、Linux、网络、多线程，偶尔讲点运维Jenkins、Nexus、Docker、ELK，偶尔分享些技术干货，致力于Java全栈开发！</span>
                              </p>
                              
                          </div>
                          <span class="profile_arrow_wrp" id="js_profile_arrow_wrp">
                              <i class="profile_arrow arrow_out"></i>
                              <i class="profile_arrow arrow_in"></i>
                          </span>
                      </div>
                    </span>


                    <em id="publish_time" class="rich_media_meta rich_media_meta_text">2019-04-16</em>





                </div>
                
                
                
                
                                                
                                                                
                                
                
                <div class="rich_media_content " id="js_content">
                    

                    

                    
                    
                    <p style="text-align: center;" data-mpa-powered-by="yiban.io"><img class="rich_pages" data-copyright="0" data-ratio="0.6614583333333334" data-s="300,640" src="images\0001.jpg" data-type="png" data-w="960" style=""  /></p><p style="text-align: center;"><span style="color: rgb(127, 127, 127);font-size: 12px;letter-spacing: 0.544px;text-align: center;background-color: rgb(255, 255, 255);">来源：cnblogs.com/moyand/p/9047978.html</span></p><hr style="border-style: solid;border-width: 1px 0 0;border-color: rgba(0,0,0,0.1);-webkit-transform-origin: 0 0;-webkit-transform: scale(1, 0.5);transform-origin: 0 0;transform: scale(1, 0.5);"  /><h2 style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 1.2em;color: rgb(21, 153, 87);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-size: inherit;color: inherit;line-height: inherit;">发展史</span><br  /></h2><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">1、很久很久以前，Web&nbsp;基本上就是文档的浏览而已，&nbsp;既然是浏览，作为服务器，&nbsp;不需要记录谁在某一段时间里都浏览了什么文档，每次请求都是一个新的HTTP协议，&nbsp;就是请求加响应，&nbsp;尤其是我不用记住是谁刚刚发了HTTP请求，&nbsp;每个请求对我来说都是全新的。这段时间很嗨皮。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">2、但是随着交互式Web应用的兴起，像在线购物网站，需要登录的网站等等，马上就面临一个问题，那就是要管理会话，必须记住哪些人登录系统， 哪些人往自己的购物车中放商品， 也就是说我必须把每个人区分开，这就是一个不小的挑战，因为HTTP请求是无状态的，所以想出的办法就是给大家发一个会话标识(session id), 说白了就是一个随机的字串，每个人收到的都不一样， 每次大家向我发起HTTP请求的时候，把这个字符串给一并捎过来， 这样我就能区分开谁是谁了</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">3、这样大家很嗨皮了，可是服务器就不嗨皮了，每个人只需要保存自己的session&nbsp;id，而服务器要保存所有人的session&nbsp;id&nbsp;！&nbsp;如果访问服务器多了，&nbsp;就得由成千上万，甚至几十万个。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">这对服务器说是一个巨大的开销&nbsp;，&nbsp;严重的限制了服务器扩展能力，&nbsp;比如说我用两个机器组成了一个集群，&nbsp;小F通过机器A登录了系统，&nbsp;那session&nbsp;id会保存在机器A上，&nbsp;假设小F的下一次请求被转发到机器B怎么办？&nbsp;机器B可没有小F的&nbsp;session&nbsp;id啊。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">有时候会采用一点小伎俩：<strong>&nbsp;session&nbsp;sticky&nbsp;</strong>，&nbsp;就是让小F的请求一直粘连在机器A上，&nbsp;但是这也不管用，&nbsp;要是机器A挂掉了，&nbsp;还得转到机器B去。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">那只好做session&nbsp;的复制了，&nbsp;把session&nbsp;id&nbsp;在两个机器之间搬来搬去，&nbsp;快累死了。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;text-align: center;white-space: normal;background-color: rgb(255, 255, 255);"><img class="" data-ratio="0.6411378555798687" data-type="png" data-w="457" src="images\0002.png"  /></p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">后来有个叫Memcached的支了招：&nbsp;把session&nbsp;id&nbsp;集中存储到一个地方，&nbsp;所有的机器都来访问这个地方的数据，&nbsp;这样一来，就不用复制了，&nbsp;但是增加了单点失败的可能性，&nbsp;要是那个负责session&nbsp;的机器挂了，&nbsp;所有人都得重新登录一遍，&nbsp;估计得被人骂死。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;text-align: center;white-space: normal;background-color: rgb(255, 255, 255);"><img class="" data-ratio="0.8271334792122538" data-type="png" data-w="457" src="images\0003.png"  /></p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">也尝试把这个单点的机器也搞出集群，增加可靠性， 但不管如何， 这小小的session 对我来说是一个沉重的负担</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">4、于是有人就一直在思考，&nbsp;我为什么要保存这可恶的session呢，&nbsp;只让每个客户端去保存该多好？</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">可是<strong>如</strong><strong>果不保存这些session&nbsp;id&nbsp;,&nbsp;怎么验证客户端发给我的session&nbsp;id&nbsp;的确是我生成的呢？</strong>&nbsp;如果不去验证，我们都不知道他们是不是合法登录的用户，&nbsp;那些不怀好意的家伙们就可以伪造session&nbsp;id&nbsp;,&nbsp;为所欲为了。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">嗯，对了，关键点就是验证&nbsp;！</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><em>比如说，&nbsp;小F已经登录了系统，&nbsp;我给他发一个令牌(token)，&nbsp;里边包含了小F的&nbsp;user&nbsp;id，&nbsp;下一次小F&nbsp;再次通过Http&nbsp;请求访问我的时候，&nbsp;把这个token&nbsp;通过Http&nbsp;header&nbsp;带过来不就可以了。</em></p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">不过这和session&nbsp;id没有本质区别啊，&nbsp;任何人都可以可以伪造，&nbsp;所以我得想点儿办法，&nbsp;让别人伪造不了。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">那就对数据做一个签名吧，&nbsp;比如说我用HMAC-SHA256&nbsp;算法，加上一个只有我才知道的密钥，&nbsp;对数据做一个签名，&nbsp;把这个签名和数据一起作为token&nbsp;，&nbsp;由于密钥别人不知道，&nbsp;就无法伪造token了。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;text-align: center;white-space: normal;background-color: rgb(255, 255, 255);"><img class="" data-ratio="1.033033033033033" data-type="png" data-w="333" src="images\0004.png"  /></p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">这个token&nbsp;我不保存，&nbsp;当小F把这个token&nbsp;给我发过来的时候，我再用同样的HMAC-SHA256&nbsp;算法和同样的密钥，对数据再计算一次签名，&nbsp;和token&nbsp;中的签名做个比较，&nbsp;如果相同，&nbsp;我就知道小F已经登录过了，并且可以直接取到小F的user&nbsp;id&nbsp;,&nbsp;如果不相同，&nbsp;数据部分肯定被人篡改过，&nbsp;我就告诉发送者：&nbsp;对不起，没有认证。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;text-align: center;white-space: normal;background-color: rgb(255, 255, 255);"><img class="" data-ratio="0.8132387706855791" data-type="png" data-w="423" src="images\0005.png"  /></p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">Token&nbsp;中的数据是明文保存的（虽然我会用Base64做下编码，&nbsp;但那不是加密），&nbsp;还是可以被别人看到的，&nbsp;所以我不能在其中保存像密码这样的敏感信息。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">当然，&nbsp;如果一个人的token&nbsp;被别人偷走了，&nbsp;那我也没办法，&nbsp;我也会认为小偷就是合法用户，&nbsp;这其实和一个人的session&nbsp;id&nbsp;被别人偷走是一样的。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">这样一来，&nbsp;我就不保存session&nbsp;id&nbsp;了，&nbsp;我只是生成token&nbsp;,&nbsp;然后验证token&nbsp;，&nbsp;我用我的CPU计算时间获取了我的session&nbsp;存储空间&nbsp;！</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">解除了session&nbsp;id这个负担，&nbsp;可以说是无事一身轻，&nbsp;我的机器集群现在可以轻松地做水平扩展，&nbsp;用户访问量增大，&nbsp;直接加机器就行。&nbsp;这种无状态的感觉实在是太好了！</p><h2 style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 1.2em;color: rgb(21, 153, 87);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-size: inherit;color: inherit;line-height: inherit;">Cookie</span></h2><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">cookie&nbsp;是一个非常具体的东西，指的就是浏览器里面能永久存储的一种数据，仅仅是浏览器实现的一种数据存储功能。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">cookie由服务器生成，发送给浏览器，浏览器把cookie以kv形式保存到某个目录下的文本文件内，下一次请求同一网站时会把该cookie发送给服务器。由于cookie是存在客户端上的，所以浏览器加入了一些限制确保cookie不会被恶意使用，同时不会占据太多磁盘空间，所以每个域的cookie数量是有限的。</p><h2 style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 1.2em;color: rgb(21, 153, 87);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-size: inherit;color: inherit;line-height: inherit;">Session</span></h2><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">session&nbsp;从字面上讲，就是会话。这个就类似于你和一个人交谈，你怎么知道当前和你交谈的是张三而不是李四呢？对方肯定有某种特征（长相等）表明他就是张三。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">session&nbsp;也是类似的道理，服务器要知道当前发请求给自己的是谁。为了做这种区分，服务器就要给每个客户端分配不同的“身份标识”，然后客户端每次向服务器发请求的时候，都带上这个“身份标识”，服务器就知道这个请求来自于谁了。至于客户端怎么保存这个“身份标识”，可以有很多种方式，对于浏览器客户端，大家都默认采用&nbsp;cookie&nbsp;的方式。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">服务器使用session把用户的信息临时保存在了服务器上，用户离开网站后session会被销毁。这种用户信息存储方式相对cookie来说更安全，可是session有一个缺陷：如果web服务器做了负载均衡，那么下一个操作请求到了另一台服务器的时候session会丢失。</p><h2 style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 1.2em;color: rgb(21, 153, 87);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-size: inherit;color: inherit;line-height: inherit;">Token</span></h2><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">在Web领域基于Token的身份验证随处可见。在大多数使用Web&nbsp;API的互联网公司中，tokens&nbsp;是多用户下处理认证的最佳方式。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">以下几点特性会让你在程序中使用基于Token的身份验证</p><ol style="" class=" list-paddingleft-2"><li><p><span style="color: inherit;line-height: inherit;font-size: 15px;">无状态、可扩展</span></p></li><li><p><span style="color: inherit;line-height: inherit;font-size: 15px;">支持移动设备</span></p></li><li><p><span style="color: inherit;line-height: inherit;font-size: 15px;">跨程序调用</span></p></li><li><p><span style="color: inherit;line-height: inherit;font-size: 15px;">安全</span></p></li></ol><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">那些使用基于Token的身份验证的大佬们</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">大部分你见到过的API和Web应用都使用tokens。例如Facebook,&nbsp;Twitter,&nbsp;Google+,&nbsp;GitHub等。</p><h3 style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 1.1em;color: rgb(21, 153, 87);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-size: inherit;color: inherit;line-height: inherit;">Token的起源</span></h3><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">在介绍基于Token的身份验证的原理与优势之前，不妨先看看之前的认证都是怎么做的。</p><h4 style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(21, 153, 87);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-size: inherit;color: inherit;line-height: inherit;">基于服务器的验证</span></h4><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">我们都是知道HTTP协议是无状态的，这种无状态意味着程序需要验证每一次请求，从而辨别客户端的身份。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">在这之前，程序都是通过在服务端存储的登录信息来辨别请求的。这种方式一般都是通过存储Session来完成。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">随着Web，应用程序，已经移动端的兴起，这种验证的方式逐渐暴露出了问题。尤其是在可扩展性方面。</p><h4 style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(21, 153, 87);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-size: inherit;color: inherit;line-height: inherit;">基于服务器验证方式暴露的一些问题</span></h4><ol style="" class=" list-paddingleft-2"><li><p><strong><span style="color: inherit;line-height: inherit;font-size: 15px;">Seesion：</span></strong><span style="color: inherit;line-height: inherit;font-size: 15px;">每次认证用户发起请求时，服务器需要去创建一个记录来存储信息。当越来越多的用户发请求时，内存的开销也会不断增加。</span></p></li><li><p><strong><span style="color: inherit;line-height: inherit;font-size: 15px;">可扩展性：</span></strong><span style="color: inherit;line-height: inherit;font-size: 15px;">在服务端的内存中使用Seesion存储登录信息，伴随而来的是可扩展性问题。</span></p></li><li><p><strong><span style="color: inherit;line-height: inherit;font-size: 15px;">CORS(跨域资源共享)：</span></strong><span style="color: inherit;line-height: inherit;font-size: 15px;">当我们需要让数据跨多台移动设备上使用时，跨域资源的共享会是一个让人头疼的问题。在使用Ajax抓取另一个域的资源，就可以会出现禁止请求的情况。</span></p></li><li><p><strong><span style="color: inherit;line-height: inherit;font-size: 15px;">CSRF(跨站请求伪造)：</span></strong><span style="color: inherit;line-height: inherit;font-size: 15px;">用户在访问银行网站时，他们很容易受到跨站请求伪造的攻击，并且能够被利用其访问其他的网站。</span></p></li></ol><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">在这些问题中，可扩展行是最突出的。因此我们有必要去寻求一种更有行之有效的方法。</p><h4 style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(21, 153, 87);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-size: inherit;color: inherit;line-height: inherit;">基于Token的验证原理</span></h4><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">基于Token的身份验证是无状态的，我们不将用户信息存在服务器或Session中。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">这种概念解决了在服务端存储信息时的许多问题</p><blockquote style="padding: 10px 15px 10px 1rem;color: rgb(62, 62, 62);border-left-width: 6px;border-left-color: rgb(220, 230, 240);font-size: 0.8em;line-height: inherit;background: rgb(242, 247, 251);overflow: auto;overflow-wrap: normal;word-break: normal;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;"><p style="font-size: inherit;color: inherit;line-height: inherit;">NoSession意味着你的程序可以根据需要去增减机器，而不用去担心用户是否登录。</p></blockquote><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">基于Token的身份验证的过程如下:</p><ol style="" class=" list-paddingleft-2"><li><p><span style="color: inherit;line-height: inherit;font-size: 15px;">用户通过用户名和密码发送请求。</span></p></li><li><p><span style="color: inherit;line-height: inherit;font-size: 15px;">程序验证。</span></p></li><li><p><span style="color: inherit;line-height: inherit;font-size: 15px;">程序返回一个签名的token&nbsp;给客户端。</span></p></li><li><p><span style="color: inherit;line-height: inherit;font-size: 15px;">客户端储存token,并且每次用于每次发送请求。</span></p></li><li><p><span style="color: inherit;line-height: inherit;font-size: 15px;">服务端验证token并返回数据。</span></p></li></ol><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">每一次请求都需要token。token应该在HTTP的头部发送从而保证了Http请求无状态。我们同样通过设置服务器属性Access-Control-Allow-Origin:*&nbsp;，让服务器能接受到来自所有域的请求。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">需要主要的是，在ACAO头部标明(designating)*时，不得带有像HTTP认证，客户端SSL证书和cookies的证书。<br  /></p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">实现思路：</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;text-align: center;white-space: normal;background-color: rgb(255, 255, 255);"><img class="" data-ratio="0.8184663536776213" data-type="png" data-w="639" src="images\0006.png"  /></p><ol style="" class=" list-paddingleft-2"><li><p><span style="color: inherit;line-height: inherit;font-size: 15px;">用户登录校验，校验成功后就返回Token给客户端。</span></p></li><li><p><span style="color: inherit;line-height: inherit;font-size: 15px;">客户端收到数据后保存在客户端</span></p></li><li><p><span style="color: inherit;line-height: inherit;font-size: 15px;">客户端每次访问API是携带Token到服务器端。</span></p></li><li><p><span style="color: inherit;line-height: inherit;font-size: 15px;">服务器端采用filter过滤器校验。校验成功则返回请求数据，校验失败则返回错误码</span></p></li></ol><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">当我们在程序中认证了信息并取得token之后，我们便能通过这个Token做许多的事情。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">我们甚至能基于创建一个基于权限的token传给第三方应用程序，这些第三方程序能够获取到我们的数据（当然只有在我们允许的特定的token）</p><h3 style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 1.1em;color: rgb(21, 153, 87);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-size: inherit;color: inherit;line-height: inherit;">Tokens的优势</span></h3><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="color: rgb(123, 12, 0);"><strong>无状态、可扩展</strong></span></p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">在客户端存储的Tokens是无状态的，并且能够被扩展。基于这种无状态和不存储Session信息，负载负载均衡器能够将用户信息从一个服务传到其他服务器上。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">如果我们将已验证的用户的信息保存在Session中，则每次请求都需要用户向已验证的服务器发送验证信息(称为Session亲和性)。用户量大时，可能会造成一些拥堵。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">但是不要着急。使用tokens之后这些问题都迎刃而解，因为tokens自己hold住了用户的验证信息。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="color: rgb(123, 12, 0);"><strong>安全性</strong></span></p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">请求中发送token而不再是发送cookie能够防止CSRF(跨站请求伪造)。即使在客户端使用cookie存储token，cookie也仅仅是一个存储机制而不是用于认证。不将信息存储在Session中，让我们少了对session操作。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">token是有时效的，一段时间之后用户需要重新验证。我们也不一定需要等到token自动失效，token有撤回的操作，通过token&nbsp;revocataion可以使一个特定的token或是一组有相同认证的token无效。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="color: rgb(123, 12, 0);"><strong>可扩展性</strong></span></p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">Tokens能够创建与其它程序共享权限的程序。例如，能将一个随便的社交帐号和自己的大号(Fackbook或是Twitter)联系起来。当通过服务登录Twitter(我们将这个过程Buffer)时，我们可以将这些Buffer附到Twitter的数据流上(we&nbsp;are&nbsp;allowing&nbsp;Buffer&nbsp;to&nbsp;post&nbsp;to&nbsp;our&nbsp;Twitter&nbsp;stream)。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">使用tokens时，可以提供可选的权限给第三方应用程序。当用户想让另一个应用程序访问它们的数据，我们可以通过建立自己的API，得出特殊权限的tokens。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="color: rgb(123, 12, 0);"><strong>多平台跨域</strong></span></p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">我们提前先来谈论一下CORS(跨域资源共享)，对应用程序和服务进行扩展的时候，需要介入各种各种的设备和应用程序。</p><blockquote style="padding: 10px 15px 10px 1rem;color: rgb(62, 62, 62);border-left-width: 6px;border-left-color: rgb(220, 230, 240);font-size: 0.8em;line-height: inherit;background: rgb(242, 247, 251);overflow: auto;overflow-wrap: normal;word-break: normal;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;"><p style="font-size: inherit;color: inherit;line-height: inherit;">Having our API just serve data, we can also make the design choice to serve assets from a CDN. This eliminates the issues that CORS brings up after we set a quick header configuration for our application.</p></blockquote><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">只要用户有一个通过了验证的token，数据和资源就能够在任何域上被请求到。</p><pre style="font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;text-align: start;background-color: rgb(255, 255, 255);"><code class="hljs makefile" style="margin-right: 2px;margin-left: 2px;padding: 0.5em;font-size: 12px;color: white;line-height: 15px;border-radius: 0px;background: rgb(51, 51, 51);font-family: Consolas, Inconsolata, Courier, monospace;display: block;overflow-x: auto;word-spacing: -3px;letter-spacing: 0px;overflow-wrap: normal !important;word-break: normal !important;overflow-y: auto !important;"><span class="hljs-section" style="font-size: inherit;color: rgb(255, 255, 170);line-height: inherit;overflow-wrap: inherit !important;word-break: inherit !important;">Access-Control-Allow-Origin:&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br style="font-size: inherit;color: inherit;line-height: inherit;overflow-wrap: inherit !important;word-break: inherit !important;"  /></code></pre><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">基于标准创建token的时候，你可以设定一些选项。我们在后续的文章中会进行更加详尽的描述，但是标准的用法会在JSON&nbsp;Web&nbsp;Tokens体现。</p><p style="margin-top: 1.3em;margin-bottom: 1.3em;font-size: 15px;color: rgb(62, 62, 62);line-height: inherit;font-family: &#39;Helvetica Neue&#39;, Helvetica, &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);">最近的程序和文档是供给JSON&nbsp;Web&nbsp;Tokens的。它支持众多的语言。这意味在未来的使用中你可以真正的转换你的认证机制。</p><section class="" data-role="outer" label="Powered by 365editor" style="letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);"><section class=""><p style="color: rgb(62, 62, 62);font-size: 16px;white-space: normal;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);text-align: center;"><strong>（完）</strong></p><p style="color: rgb(62, 62, 62);font-size: 16px;white-space: normal;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);"><br  /></p><p style="color: rgb(62, 62, 62);font-size: 16px;white-space: normal;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);text-align: center;"><strong><img class="rich_pages " data-copyright="0" data-ratio="3.9466666666666668" data-s="300,640" data-type="png" data-w="750" src="images\0007.jpg" style="visibility: visible !important;width: 677px !important;"  /></strong></p><section class="_editor"><section data-width="100%" style="display:inline-block;width:100%;vertical-align:top;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_gif/6zIV1e6ocLAnlhiaKJrTCBqBd5ma41ib3j2J61E26hgBkgdENtqgCuJ6MlXEfS0icIt8vSYSGAptNa8Y1ibwCBuMVw/640?wx_fmt=gif&quot;);background-attachment:scroll;background-size:13.8587%;background-position:0% 0%;background-repeat:repeat;"><section style="margin:20px 0%;text-align:center;transform: translate3d(0px, 0px, 0px);-webkit-transform: translate3d(0px, 0px, 0px);-moz-transform: translate3d(0px, 0px, 0px);-ms-transform: translate3d(0px, 0px, 0px);-o-transform: translate3d(0px, 0px, 0px);"><section style="display: inline-block;width: 90%;border-width: 1px;border-style: solid;border-color: transparent;padding: 5px;box-shadow: rgb(170, 170, 170) 0px 0px 10px;background-color: rgb(254, 255, 255);" data-width="90%"><section style="display:inline-block;vertical-align:top;" data-width=""><section style="overflow: hidden;margin-right: auto;margin-left: auto;"><section style="margin-bottom: 0.5em;color: rgb(35, 21, 10);overflow: hidden;display: inline-block;vertical-align: bottom;"><section style="font-size: 2em;vertical-align: top;"><p><strong><span style="font-size: 16px;color: rgb(255, 0, 0);">Java团长</span></strong></p></section><section style="padding-top: 0.3em;border-top: 1px dashed rgb(168, 164, 171);display: inline-block;"><p><span style="font-size: 14px;color: rgb(0, 176, 80);">专注于Java干货分享</span></p><section style="display:inline-block;width:111.297px;"><img border="0" class="" data-ratio="1" src="images\0008.jpg" data-type="jpeg" data-w="258" height="auto" style="border-radius: 5px;border-width: 1px;border-style: dashed;border-color: rgb(168, 164, 171);box-shadow: rgba(0, 0, 0, 0.33) 6px 6px 5px 0px;margin-bottom: 1.4px;visibility: visible !important;width: 111.297px !important;"  /></section><p><span style="font-size: 10px;color: #7030a0;">扫描上方二维码获取更多Java干货</span></p></section></section></section></section></section></section></section></section></section></section>
                </div>
                

                
                <div class="ct_mpda_wrp" id="js_sponsor_ad_area" style="display:none;"></div>

                
                <div class="read-more__area" id="js_more_read_area" style="display:none;">
                    
                </div>

                
                                <div class="reward_area tc reward_area_primary" id="js_preview_reward_author" style="display:none;">
                    <div class="reward-avatar" style="display: none;" id="js_preview_reward_author_avatar">
                        <img src="" alt="" id="js_preview_reward_author_head">
                    </div>
                    
                                        <div class="reward-author" id="js_preview_reward_author_name">墨颜丶</div>
                                        <p class="reward_tips" id="js_preview_reward_author_wording" style="display:none;"></p>
                    <p>
                        <a class="reward_button" id='js_preview_reward_author_link' href="##"><span id="js_preview_reward_link_text">赞赏</span></a>
                    </p>
                </div>

                <div class="reward_qrcode_area reward_area tc" id="js_preview_reward_qrcode" style="display:none;">
                    <p class="tips_global">长按二维码向我转账</p>
                    <p id="js_preview_reward_ios_wording" class="reward_tips" style="display:none;"></p>
                    <span class="reward_qrcode_img_wrp"><img class="reward_qrcode_img" src="res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_reward_qrcode.2x42f400.png"></span>
                    <p class="tips_global">受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。</p>
                </div>
                                
                
                            </div>
	</div>
	<div class='dy_all'>
		<a href='https://www.52pojie.cn' target='_blank'>
			吾爱破解论坛
		</a>
	</div>
</body>