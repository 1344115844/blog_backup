<!DOCTYPE html>
<head>
	<meta http-equiv='Content-Type' content='text/html;charset=utf-8'>
	<meta name='viewport' content='width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no'>
	<title>
		记录一次成都阿里一面的经历
	</title>
	<script src='https://cdn.bootcss.com/jquery/1.10.2/jquery.min.js'>
	</script>
	<style>
		a {color: #607fa6;text-decoration:none;word-wrap:break-word;word-break:break-all;}.rich_media_title{padding-bottom:10px;margin-bottom:14px;border-bottom:1px
		solid #e7e7eb;}.rich_media_meta{display:inline-block;vertical-align:middle;margin-right:8px;margin-bottom:10px;font-size:16px;}.rich_media_meta_text{color:#8c8c8c;}.rich_media_meta_list
		em {font-style: normal;}@media screen and (max-width:768px){.rich_media{position:
		relative;padding: 20px 15px 15px;background-color: #fff;}}.rich_media_content
		* {max-width: 100%!important;box-sizing: border-box!important;-webkit-box-sizing:
		border-box!important;word-wrap: break-word!important;}.rich_media_content
		blockquote {margin: 0;padding-left: 10px;border-left: 3px solid #dbdbdb;}.rich_media_content
		.list-paddingleft-2 {padding-left: 2.2em;}a.rich_media_meta_nickname{display:
		none;}@media screen and (min-width:1025px){.rich_media{position:relative;}a.rich_media_meta_nickname{display:inline-block!important;}span.rich_media_meta_nickname
		{display: inline-block!important;}.rich_media {width:670px;margin-left:auto;margin-right:auto;}}a.fwjm{display:
		block;font-size: 12px;color: #ececec;}.tenvideo_player {position: relative;width:
		100 %;height: 100 %;margin: auto;background: #000;}* {margin:0px;padding:0px}
		.dy_all {text-align: center;margin: 30px 0;} .dy_all a {display: inline-block;height:
		38px;line-height: 38px;padding: 0 18px;background-color: #009688;color:
		#fff;white-space: nowrap;font-size: 14px;border: none;border-radius: 2px;cursor:
		pointer;text-align: center;outline: 0;-webkit-appearance: none;transition:
		all .3s;-webkit-transition: all .3s;box-sizing: border-box;}
	</style>
</head>
<body>
	<div id='js_article' class='rich_media'>
		<div>
			<a href='https://mp.weixin.qq.com/s/xr479YxQ14KeoxL0KdptXA' target='_blank'>
				https://mp.weixin.qq.com/s/xr479YxQ14KeoxL0KdptXA
			</a>
			<br/>
			<a href='https://www.52pojie.cn' class='fwjm' target='_blank'>
				提供的爬取软件来源于：52pojie.cn@夜泉 免费下载使用
			</a>
		</div>
		<div id="img-content">

                
                <h2 class="rich_media_title" id="activity-name">记录一次成都阿里一面的经历</h2>
                <div id="meta_content" class="rich_media_meta_list">
                                                                                <span class="rich_media_meta rich_media_meta_text">
                                                乔二爷
                                            </span>
                                        
                                        <span class="rich_media_meta rich_media_meta_nickname" id="profileBt"><a href="javascript:void(0);">纯洁的微笑</a>
                      <div id="js_profile_qrcode" class="profile_container" style="display:none;">
                          <div class="profile_inner">
                              <strong class="profile_nickname">纯洁的微笑</strong>
                              <img class="profile_avatar" id="js_profile_qrcode_img" src="" alt="">

                              <p class="profile_meta">
                              <label class="profile_meta_label">微信号</label>
                              <span class="profile_meta_value">keeppuresmile</span>
                              </p>

                              <p class="profile_meta">
                              <label class="profile_meta_label">功能介绍</label>
                              <span class="profile_meta_value">一个有故事的程序员</span>
                              </p>
                              
                          </div>
                          <span class="profile_arrow_wrp" id="js_profile_arrow_wrp">
                              <i class="profile_arrow arrow_out"></i>
                              <i class="profile_arrow arrow_in"></i>
                          </span>
                      </div>
                    </span>


                    <em id="publish_time" class="rich_media_meta rich_media_meta_text">2019-04-24</em>





                </div>
                
                
                
                
                                                
                                                                
                                
                
                <div class="rich_media_content " id="js_content">
                    

                    

                    
                    
                    <p style="letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);text-align: center;"><img class="rich_pages " data-copyright="0" data-ratio="0.42578125" data-s="300,640" data-type="jpeg" data-w="1280" src="images\0001.jpg" style="width: 677px !important;visibility: visible !important;"  /></p><p style="margin-top: 10px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">上周在拉勾上收到一个蚂蚁金服的大哥要我的简历，当时很惊讶，居然有蚂蚁金服的找到我，然后想都没想就给了。<br  /></p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">受宠若惊呀，我知道自己的水平跟阿里的差距有多远，以前一直没用勇气去投，连试试都不敢。这次居然主动找过来了，当时就再想，难道阿里这么缺人么？还是只是为了完成某些KPI，当然了，我这种想法比较幼稚。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">没想到的是第二天居然收到了阿里巴巴的面试邀请邮件，里面说到会在10个工作日内进行第一次面试。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">不管怎么样吧，既然面试来了，就试试吧。能面一次这种级别的技术公司，看看自己真实的差距，也是三生有幸了。从离职的这段时间也补了补JVM，基础的数据结构算法什么的，还有一些高频的Java 基础问题。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">周一晚上 8：25 接到了蚂蚁大哥来的电话，果然，跟传说中的一样，还在上班。当时很意外，没想到是电话面试，因为邮件中没提到，后面回想，貌似一面基本上都是电话面试，有些朋友二面也是电面。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">进入正题，下面是整个内容。顺序有些不一致，我按照模块来整理的。</p><h3 style="margin-top: 1.5rem;margin-bottom: 1rem;font-size: 20px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);color: rgb(21, 153, 87);line-height: 1.35;text-align: start;font-family: Menlo, Monaco, &quot;Source Code Pro&quot;, Consolas, Inconsolata, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Courier New&quot;, &quot;Droid Sans Mono&quot;, &quot;Hiragino Sans GB&quot;, 微软雅黑, monospace !important;">自我介绍</h3><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">自我介绍就先介绍 多大了、毕业多久了、做了什么些东西、最近做的什么内容，擅长的部分呀 等等。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">这里说一下，自我介绍的内容如实说就好，不要太过于夸大，自我介绍的内容建议大家提前准备好，不要说的时候想到哪儿说到哪儿。</p><h3 style="margin-top: 1.5rem;margin-bottom: 1rem;font-size: 20px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);color: rgb(21, 153, 87);line-height: 1.35;text-align: start;font-family: Menlo, Monaco, &quot;Source Code Pro&quot;, Consolas, Inconsolata, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Courier New&quot;, &quot;Droid Sans Mono&quot;, &quot;Hiragino Sans GB&quot;, 微软雅黑, monospace !important;">线程部分</h3><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">1、多线程的实现方式有哪些？</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">这个题目在一面的时候基本上都会碰到吧，继承 Thread 类、实现Runnable 接口，最后调用 的是 start() 方法来启动线程。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">这里还有个知识点是 start() 跟 run() 方法的区别和联系。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">直接调用 start() 方法，此时线程处于一个就绪（可运行）的状态，但是并没有真正的运行。而是得到CPU 的时间片后，开始执行 run() 方法，run() 方法里面的是我们的线程体。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">我们直接 运行 run() 方法，它其实就是一个普通的方法调用，在主线程中执行，<strong style="color: rgb(0, 0, 0);">是不会开启多线程的</strong>。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">2、描述一些线程死锁的情况？</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">这个问题在平常项目基本上没怎么接触到，但是我有过部分了解。回答的是：两个线程在持有自己的锁的时候，还要去持有对方持有的锁时，由于别人的锁已经被对方持有，造成彼此等待对方释放锁的情况。回答得比较片面，还有一些类型的死锁问题没有答出来，后面直接交底了，面试官说没关系的。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">建议大家在准备这个问题的时候能说出来产生死锁的条件、现象、解决办法等。然后配上一些实例说明，在面试过程中，面试官就提到说根据我们平常遇到死锁问题的场景实例来说。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">大家可以搜一下下面这两个死锁场景问题：</p><p style="margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;"><span style="font-size: 15px;">1、三个人 三根筷子：每个人需要拿到身边的两根筷子才能开始吃饭</span></p><p style="margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;"><span style="font-size: 15px;">2、银行转账问题：线程 A 从 X 账户向 Y 账户转账，线程 B 从账户 Y 向账户 X 转账，那么就会发生死锁。</span></p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">3、项目中有没有用过线程池 ？怎么用的 ？</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">回答了我们项目里面有些接口需要组装多个服务的数据进行封装，然后返回。这里面我们会使用多线程去并行拉取数据，减少接口响应时间。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">面试官说：“ok，那么你有没有看过线程池里面的源码呢 ？有哪几种线程池 ？”</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">源码这里我迟疑了一下，我说不太熟，然后我说了几种类型的线程池 <strong style="color: rgb(0, 0, 0);">newSingleThreadExecutor</strong>、<strong style="color: rgb(0, 0, 0);">newFixedThreadPool</strong>、<strong style="color: rgb(0, 0, 0);">newCachedThreadPool</strong> 但是还漏了一种 <strong style="color: rgb(0, 0, 0);">newScheduledThreadPool</strong> 没想起来。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">4、线程池的原理是什么样子？底层方法的参数分别是什么意思？</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">回答这个问题的时候，当时我卡住了。我知道这几个底层都是对 调用的 <strong style="color: rgb(0, 0, 0);">ThreadPoolExecutor</strong> ，但是我死活没有想起来名字，这时候面试官提醒了一下，然后说没关系的。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">接着就问：“那你知道他的参数都有哪些吗 ？都分别代表什么意思吗 ？”</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">我回答的是 有个 线程的个数 和 线程存活的时间，其他的没说上来。然后面试官说：“没关系的”。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">补充一下：线程池底层都是通过 ThreadPoolExecutor 来实现的。</p><pre class="" style="padding-top: 8px;padding-bottom: 6px;letter-spacing: 0.544px;background: rgb(241, 239, 238);border-radius: 0px;overflow-y: auto;color: rgb(80, 97, 109);text-align: start;font-size: 10px;line-height: 12px;font-family: consolas, menlo, courier, monospace, &quot;Microsoft Yahei&quot;!important;border-width: 1px !important;border-style: solid !important;border-color: rgb(226, 226, 226) !important;"><ol class=" list-paddingleft-2" style="list-style-type: none;"><li><p><span style="color: rgb(74, 74, 74);display: block;line-height: 22px;font-size: 14px !important;word-break: inherit !important;"><code style="margin-left: -20px;overflow-wrap: normal;display: flex;overflow: initial;line-height: 12px;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;"><span class="" style="color: rgb(102, 102, 234);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">public</span><span class="" style="color: rgb(27, 25, 24);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="color: rgb(64, 126, 231);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">ThreadPoolExecutor</span><span class="" style="color: rgb(27, 25, 24);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">( </span><span class="" style="color: rgb(102, 102, 234);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">int</span><span class="" style="color: rgb(27, 25, 24);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> corePoolSize,&nbsp;</span></code></span></p></li><li><p><span style="color: rgb(74, 74, 74);display: block;line-height: 22px;font-size: 14px !important;word-break: inherit !important;"><code style="margin-left: -20px;overflow-wrap: normal;display: flex;overflow: initial;line-height: 12px;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;"><span class="" style="color: rgb(27, 25, 24);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">                           </span><span class="" style="color: rgb(102, 102, 234);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">int</span><span class="" style="color: rgb(27, 25, 24);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> maximumPoolSize,&nbsp;</span></code></span></p></li><li><p><span style="color: rgb(74, 74, 74);display: block;line-height: 22px;font-size: 14px !important;word-break: inherit !important;"><code style="margin-left: -20px;overflow-wrap: normal;display: flex;overflow: initial;line-height: 12px;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;"><span class="" style="color: rgb(27, 25, 24);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">                           </span><span class="" style="color: rgb(102, 102, 234);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">long</span><span class="" style="color: rgb(27, 25, 24);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> keepAliveTime,&nbsp;</span></code></span></p></li><li><p><span style="color: rgb(74, 74, 74);display: block;line-height: 22px;font-size: 14px !important;word-break: inherit !important;"><code style="margin-left: -20px;overflow-wrap: normal;display: flex;overflow: initial;line-height: 12px;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;"><span class="" style="color: rgb(27, 25, 24);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">                           </span><span class="" style="color: rgb(64, 126, 231);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">TimeUnit</span><span class="" style="color: rgb(27, 25, 24);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> unit,</span></code></span></p></li><li><p><span style="color: rgb(74, 74, 74);display: block;line-height: 22px;font-size: 14px !important;word-break: inherit !important;"><code style="margin-left: -20px;overflow-wrap: normal;display: flex;overflow: initial;line-height: 12px;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;"><span class="" style="color: rgb(27, 25, 24);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">                           </span><span class="" style="color: rgb(64, 126, 231);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">BlockingQueue</span><span class="" style="color: rgb(27, 25, 24);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">&lt;</span><span class="" style="color: rgb(64, 126, 231);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Runnable</span><span class="" style="color: rgb(27, 25, 24);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">&gt; workQueue,&nbsp;</span></code></span></p></li><li><p><span style="color: rgb(74, 74, 74);display: block;line-height: 22px;font-size: 14px !important;word-break: inherit !important;"><code style="margin-left: -20px;overflow-wrap: normal;display: flex;overflow: initial;line-height: 12px;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;"><span class="" style="color: rgb(27, 25, 24);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">                           </span><span class="" style="color: rgb(64, 126, 231);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">ThreadFactory</span><span class="" style="color: rgb(27, 25, 24);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> threadFactory,&nbsp;</span></code></span></p></li><li><p><span style="color: rgb(74, 74, 74);display: block;line-height: 22px;font-size: 14px !important;word-break: inherit !important;"><code style="margin-left: -20px;overflow-wrap: normal;display: flex;overflow: initial;line-height: 12px;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;"><span class="" style="color: rgb(27, 25, 24);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">                           </span><span class="" style="color: rgb(64, 126, 231);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">RejectedExecutionHandler</span><span class="" style="color: rgb(27, 25, 24);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> handler)</span></code></span></p></li></ol></pre><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">几个参数的意思分别为：</p><ul class=" list-paddingleft-2" style="list-style-type: square;"><li><p><span style="color: rgb(74, 74, 74);line-height: 22px;font-size: 14px !important;">corePoolSize：线程池里最小线程数</span></p></li><li><p><span style="color: rgb(74, 74, 74);line-height: 22px;font-size: 14px !important;">maximumPoolSize：线程池里最大线程数量，超过最大线程时候会使用 RejectedExecutionHandler</span></p></li><li><p><span style="color: rgb(74, 74, 74);line-height: 22px;font-size: 14px !important;">keepAliveTime：线程最大的存活时间，超过这个时间就会被回收</span></p></li><li><p><span style="color: rgb(74, 74, 74);line-height: 22px;font-size: 14px !important;">unit：线程最大的存活时间的单位</span></p></li><li><p><span style="color: rgb(74, 74, 74);line-height: 22px;font-size: 14px !important;">workQueue：缓存需要执行的异步任务的队列</span></p></li><li><p><span style="color: rgb(74, 74, 74);line-height: 22px;font-size: 14px !important;">threadFactory：新建线程工厂</span></p></li><li><p><span style="color: rgb(74, 74, 74);line-height: 22px;font-size: 14px !important;">handler：拒绝策略，表示当workQueue已满，且池中的线程数达到maximumPoolSize时，线程池拒绝添加新任务时采取的策略。DiscardPolicy：抛弃当前任务，DiscardOldestPolicy：扔掉最旧的，CallerRunsPolicy：由向线程池提交任务的线程来执行该任务，AbortPolicy：抛出 RejectedExecutionException 异常。</span></p></li></ul><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">问到这里，我回答的确实太有限，面试官就没有再细问了，还是说：“没关系的”。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">如果你这里答出来了，那么我认为你还需要掌握的是，<strong style="color: rgb(0, 0, 0);">这几种线程池在哪些情况下使用什么类型的，以及要注意什么问题，很大可能面试官会继续深挖</strong>。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">这里就不给出答案了，我相信你自己去搜一下，体会会更深刻些。</p><h3 style="margin-top: 1.5rem;margin-bottom: 1rem;font-size: 20px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);color: rgb(21, 153, 87);line-height: 1.35;text-align: start;font-family: Menlo, Monaco, &quot;Source Code Pro&quot;, Consolas, Inconsolata, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Courier New&quot;, &quot;Droid Sans Mono&quot;, &quot;Hiragino Sans GB&quot;, 微软雅黑, monospace !important;">MyBatis&nbsp;部分</h3><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">5、mybatis 的 $ 与 # 的区别？</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">回答：他们两都可以来传递参数，不过 # 可以方式 sql 注入，而 $ 就是字符串拼接的方式处理，可能会有sql 注入的问题。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">上面还有一个关键的点没有答出来，那就是 #{} 在预处理时，会把参数部分用一个占位符 ? 代替 ，变成了如下的 sql 语句：</p><pre class="" style="padding-top: 8px;padding-bottom: 6px;letter-spacing: 0.544px;background: rgb(241, 239, 238);border-radius: 0px;overflow-y: auto;color: rgb(80, 97, 109);text-align: start;font-size: 10px;line-height: 12px;font-family: consolas, menlo, courier, monospace, &quot;Microsoft Yahei&quot;!important;border-width: 1px !important;border-style: solid !important;border-color: rgb(226, 226, 226) !important;"><ol class=" list-paddingleft-2" style="list-style-type: none;"><li><p><span style="color: rgb(74, 74, 74);display: block;line-height: 22px;font-size: 14px !important;word-break: inherit !important;"><code style="margin-left: -20px;overflow-wrap: normal;display: flex;overflow: initial;line-height: 12px;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;"><span class="" style="color: rgb(102, 102, 234);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">select</span><span class="" style="color: rgb(27, 25, 24);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> * </span><span class="" style="color: rgb(102, 102, 234);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">from</span><span class="" style="color: rgb(27, 25, 24);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> user </span><span class="" style="color: rgb(102, 102, 234);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">where</span><span class="" style="color: rgb(27, 25, 24);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> name = ?;</span></code></span></p></li></ol></pre><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">而 ${} 则只是简单的字符串拼接，在动态解析阶段就直接拼接成了 最终的sql 语句：</p><pre class="" style="padding-top: 8px;padding-bottom: 6px;letter-spacing: 0.544px;background: rgb(241, 239, 238);border-radius: 0px;overflow-y: auto;color: rgb(80, 97, 109);text-align: start;font-size: 10px;line-height: 12px;font-family: consolas, menlo, courier, monospace, &quot;Microsoft Yahei&quot;!important;border-width: 1px !important;border-style: solid !important;border-color: rgb(226, 226, 226) !important;"><ol class=" list-paddingleft-2" style="list-style-type: none;"><li><p><span style="color: rgb(74, 74, 74);display: block;line-height: 22px;font-size: 14px !important;word-break: inherit !important;"><code style="margin-left: -20px;overflow-wrap: normal;display: flex;overflow: initial;line-height: 12px;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;"><span class="" style="color: rgb(102, 102, 234);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">select</span><span class="" style="color: rgb(27, 25, 24);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> * </span><span class="" style="color: rgb(102, 102, 234);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">from</span><span class="" style="color: rgb(27, 25, 24);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> user </span><span class="" style="color: rgb(102, 102, 234);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">where</span><span class="" style="color: rgb(27, 25, 24);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> name = </span><span class="" style="color: rgb(123, 151, 38);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">'zhouq'</span><span class="" style="color: rgb(27, 25, 24);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">;</span></code></span></p></li></ol></pre><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">6、$ 跟 # 的使用场景 ？</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">这个问题我没有怎么理解得到，然后回答的就是 $ 在拼接表名的时候用，其他时候传递参数值的时候用 #。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">7、mybatis 的 dao 接口跟 xml 文件里面的sql 是如何建立关系的？</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">这里问到的时候比较蒙圈，然后回答的是：mybatis 会先解析这些xml 文件，xml 文件里面有命名空间 （namespace），这里可以跟dao 建立关系，然后 xml 中的每段 sql 会有一个id 跟 dao 中的接口进行关联。。。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">然后面试官说: "如果 我有两个这个xml 文件 都跟这个dao 建立关系了，那不是就是冲突了？",然后，我认怂了。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">我上面的回答太笼统，肯定是有问题的，建议你好好去了解一下mybatis 的原理。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">mybatis 到这里就没了。</p><h3 style="margin-top: 1.5rem;margin-bottom: 1rem;font-size: 20px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);color: rgb(21, 153, 87);line-height: 1.35;text-align: start;font-family: Menlo, Monaco, &quot;Source Code Pro&quot;, Consolas, Inconsolata, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Courier New&quot;, &quot;Droid Sans Mono&quot;, &quot;Hiragino Sans GB&quot;, 微软雅黑, monospace !important;">数据库</h3><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">先问的是，你平常使用得做多的是什么数据库，当然了，mysql 。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">8、mysql 锁机制 ？</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">面试官问的是，你了解mysql 的锁机制么？我就只答出来一个行锁。然后其他的没想起，就认了，其他的忘记了。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">建议你去了解了解还有表锁、页面锁 等等。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">9、排它锁 &amp; 共享锁你了解吗 ？</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">这个地方我想了一会，说平时了解得不多。实时上，平常我们的小业务系统基本上没有用到这些，可能有用到的地方，也没有去在意吧。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">接着，面试官说了下面这个场景题，然后让出解决方案。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">10、场景问题：在A线程处理一条数据，比如扣款，或者是更新状态时候，其他的线程比如 B 需要对它进行阻塞，不能够再对这条数据进行操作，包括查询也不行，得等A 线程处理完成以后，B才能进行处理。A 跟 B 是同样的业务代码产生的，非不同的业务。要使用数据库的锁来实现，怎么实现 ？</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">问这个问题的时候，面试官很耐心的解释了这个场景，然后问我有没有想起点什么来？其实就是想考察上面的关于数据库锁的问题。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">11、mysql 索引是怎么实现的？</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">回答的是 B+ 树，接着面试官继续问：“能否大致描述一下 B+ 树的大致结构 ？”。这块内容没怎么了解，直接认怂了。</p><h3 style="margin-top: 1.5rem;margin-bottom: 1rem;font-size: 20px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);color: rgb(21, 153, 87);line-height: 1.35;text-align: start;font-family: Menlo, Monaco, &quot;Source Code Pro&quot;, Consolas, Inconsolata, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Courier New&quot;, &quot;Droid Sans Mono&quot;, &quot;Hiragino Sans GB&quot;, 微软雅黑, monospace !important;">缓存相关</h3><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">这块内容是我项目上写得有使用了多级缓存的方案，然后面试官就这一块问了下面的这些关于使用缓存可能会遇到的问题。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">12、缓存击穿、缓存穿透 、缓存雪崩 ？</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">13、热点数据失效怎么解决？</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">这两个问题，以前好好了解过，但是没整理成自己的东西，面试的时候也说得云里雾里。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">14、先删缓存还是先更新数据库，为什么？</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">这里我说的：<strong>是先删缓存，然后再更新数据库</strong>，<strong>但</strong><strong>这是错误的</strong>，这里有非常大的问题。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">想想这样一个场景：</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">如果一个线程 A 先把缓存删除了,然后去更新数据库，那么在它删了缓存还没有更新到数据库的这个中间时间，线程B进来了，发现缓存没有，就去读库，这时候还是读取还是旧的数据，然后又更新到缓存去了。此时A 才把新数据写到数据库。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">此时就产生了一个典型的问题就是“<strong>双写不一致</strong>”。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">关于这块问题的讨论：《缓存更新的套路》-陈皓老师</p><h3 style="margin-top: 1.5rem;margin-bottom: 1rem;font-size: 20px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);color: rgb(21, 153, 87);line-height: 1.35;text-align: start;font-family: Menlo, Monaco, &quot;Source Code Pro&quot;, Consolas, Inconsolata, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Courier New&quot;, &quot;Droid Sans Mono&quot;, &quot;Hiragino Sans GB&quot;, 微软雅黑, monospace !important;">kafka</h3><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">15、kafka 的架构，包含了哪些角色？</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">这个问题我开始不知道怎么回答，就说了个 Broker，然后面试官提醒了一下：“不是我们平常还有生产者，消费呀什么的吗 ？”额，我说还有生产者、消费者、主题呀等等。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">这过程中面试官还提到说平常我们在搭建的时候要配置写什么东西呀等等，按照官网的介绍说也行。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">这里还有其他的比如Partition、消费者组、还有一个主要的 就是 zk 了。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">这里建议大家好好的把 kafka 里面的这些概念、属于、架构图好好自己画一下。不然真是关键时候真说不出来，但是他一提你又明白。这样子肯定是不行的，面试是你说，不是面试官说。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">16、kafka 的最小工作单元？</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">这个问题问得也是蒙圈，其实就是说我们在写代码的时候，要用kafka的时候。我们需要使用那些最基础的组件，比如生产者、消费者、主题、偏移量 等等。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">这个问题如果你们遇到，最好向面试官问清楚。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">17、kafka 消息重复消费的问题？幂等怎么做的？</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">刚开始面试官说，你知道kafka 消息重复的问题吗？有没遇到。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">我回答的是，会存在消息重复消费的问题。我们在消费数据这端做了幂等处理来解决。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">然后面试官继续才问的是：幂等怎么来做的， 我说通过设置数据版本号，还有数据库唯一索引等等。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">面试官：“ok”。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">这个问题，如果你能告诉面试官产生重复消费的情况，比如说投递的时候重复了，消费的时候由于 offset 没处理好等等问题导致的话，我想可能会更好。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">18、kafka ack 机制？集群中的ack 是怎么实现的？</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">这里我只回答上了 ack 机制是啥，但是实现原理没有回答上来。</p><h3 style="margin-top: 1.5rem;margin-bottom: 1rem;font-size: 20px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);color: rgb(21, 153, 87);line-height: 1.35;text-align: start;font-family: Menlo, Monaco, &quot;Source Code Pro&quot;, Consolas, Inconsolata, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Courier New&quot;, &quot;Droid Sans Mono&quot;, &quot;Hiragino Sans GB&quot;, 微软雅黑, monospace !important;">Redis</h3><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">19、Redis 中有哪些数据结构</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">平常使用得最多的是 String , 还有 List 、Hash、Set、ZSet 。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">没有再问其他的内容。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">但是像Redis 为什么这么快这种问题，我认为你应该要去了解，其他小伙伴经常遇到。也就是多路复用是个什么玩意儿？</p><h3 style="margin-top: 1.5rem;margin-bottom: 1rem;font-size: 20px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);color: rgb(21, 153, 87);line-height: 1.35;text-align: start;font-family: Menlo, Monaco, &quot;Source Code Pro&quot;, Consolas, Inconsolata, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Courier New&quot;, &quot;Droid Sans Mono&quot;, &quot;Hiragino Sans GB&quot;, 微软雅黑, monospace !important;">源码</h3><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">20、这里面试官问 你平常有没有看过一些源码？框架的也行？JDK 的也行。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">然后我说看了 HashMap 的源码,然后就巴拉巴拉的说了一哈大体的 put、get 流程 ，它的结构是什么样子的。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">这过程中还问到了 怎么判断两个对象是否相等？也就是 == 和 equals 的知识点。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">其他的就没再继续问了。到这里整个电面过程结束了，说10个工作日内会给我答复此次面试情况。整个过程大概持续了40分钟的样子。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">我知道，凉凉。</p><h3 style="margin-top: 1.5rem;margin-bottom: 1rem;font-size: 20px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);color: rgb(21, 153, 87);line-height: 1.35;text-align: start;font-family: Menlo, Monaco, &quot;Source Code Pro&quot;, Consolas, Inconsolata, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Courier New&quot;, &quot;Droid Sans Mono&quot;, &quot;Hiragino Sans GB&quot;, 微软雅黑, monospace !important;">最后总结一下</h3><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">上面的模块虽然顺序有变化，但是每个大块里面的问题都是按照顺序来的，基本上都是由浅入深、循序渐进的来问。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">像数据库锁、线程池、缓存问题 <strong style="color: rgb(0, 0, 0);">这些内容几乎都是那种连环炮的形式，直到摸到你的底</strong>。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">通过这次面试，亲身体会到了差距。不过，更有方向了。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">告诫大家一点东西：</p><ul class=" list-paddingleft-2" style="list-style-type: square;"><li><p><span style="color: rgb(74, 74, 74);line-height: 22px;font-size: 14px !important;">平常多积累输出：输出或者教会别人是最好的学习方式，光看不练，几天就忘。</span></p></li><li><p><span style="color: rgb(74, 74, 74);line-height: 22px;font-size: 14px !important;">先深后广：深入学习，而不是只停留在使用API 的层面，一块一块系统的深入了解，再去搞其他的。</span></p></li><li><p><span style="color: rgb(74, 74, 74);line-height: 22px;font-size: 14px !important;">建立知识体系：把自己学习的内容形成博客也好，什么导图也罢，记得把这些零散的内容，整理成自己的知识。</span></p></li><li><p><span style="color: rgb(74, 74, 74);line-height: 22px;font-size: 14px !important;">别抱有侥幸心理：别裸面，如果自己有整理的还是多看一下，多准备准备。大厂的面试会挖到你最深的部分，不要觉得只背一些面试题就是 ok的，题是背不完的。临时抱佛脚基本上过不了关。如果你是靠背面试题进去的，那么你厉害，佩服。</span></p></li><li><p><span style="color: rgb(74, 74, 74);line-height: 22px;font-size: 14px !important;">隔一段时间就去面试吧：不要学我，待一家公司三年多，中途都没有出去面过，出去面面才知道，哪些是需要去补充的。</span></p></li></ul><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">有些问题可能答案这些不是太全面，需要你自己去动手。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;">希望这篇文章对你有帮助，哪怕只有一个点，都是值得的。如果其中有一些点你不了解，那么你是时候要去补充了。</p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);font-size: 16px;white-space: pre-line;line-height: 30px;color: rgb(74, 74, 74);font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif;text-align: start;"><strong style="color: rgb(0, 0, 0);">别在自己的舒适区待太久，不然出不来。出来混，迟早是要还的！</strong></p><p style="letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-size: 16px;"><em><strong>作者介绍：乔二爷</strong></em>，</span><span style="color: rgb(178, 178, 178);font-size: 16px;">在成都乔二爷这个名字是之前身边的同事给取的，也不知道为啥。也习惯了他们这样叫我。</span></p><p style="letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);"><br  /></p><p style="letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);"><span style="color: rgb(178, 178, 178);font-size: 16px;">一直待在相对传统一点的企业，有四年半的 Java 开发经验，会点大数据的内容，也跟客户打过一年的交道，还带过 10个月 10人＋的技术团队，有一定的协调组织能力，能够理解 boss 的工作内容，也能很好的配合别人做事。</span></p><p style="letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);"><br  /></p><p style="letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);"><br  /></p><p style="letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-size: 16px;"><strong><em>作者赞赏码</em></strong></span></p><p style="letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);text-align: center;"><img class="" data-copyright="0" data-cropselx1="35" data-cropselx2="237" data-cropsely1="0" data-cropsely2="274" data-ratio="1" data-s="300,640" data-type="jpeg" data-w="1080" src="images\0002.jpg" style="visibility: visible !important;width: 197px !important;"  /></p><p style="letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);text-align: center;"><br  /></p><hr style="letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);border-style: solid;border-right-width: 0px;border-bottom-width: 0px;border-left-width: 0px;border-color: rgba(0, 0, 0, 0.1);transform-origin: 0px 0px 0px;transform: scale(1, 0.5);"  /><p style="letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);"><br  /></p><p style="margin-top: 15px;margin-bottom: 15px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: left;"><span style="color: rgb(0, 0, 0);font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 14px;letter-spacing: 0.544px;caret-color: rgb(0, 0, 0);"><strong style="font-size: 15px;letter-spacing: 0.544px;text-align: center;">Java 极客技术公众号，是由一群热爱 Java 开发的技术人组建成立，专注分享原创、高质量的 Java 文章。如果您觉得我们的文章还不错，请帮忙赞赏、在看、转发支持，鼓励我们分享出更好的文章。</strong></span></p><p style="margin-right: 16px;margin-left: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);text-align: center;line-height: 1.75em;"><br  /></p><p style="margin-right: 16px;margin-left: 16px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);text-align: center;line-height: 1.75em;"><img class="" data-copyright="0" data-cropselx1="0" data-cropselx2="220" data-cropsely1="0" data-cropsely2="123" data-ratio="1" data-s="300,640" data-type="jpeg" data-w="258" src="images\0003.jpg" style="visibility: visible !important;width: 160px !important;"  /></p>
                </div>
                

                
                <div class="ct_mpda_wrp" id="js_sponsor_ad_area" style="display:none;"></div>

                
                <div class="read-more__area" id="js_more_read_area" style="display:none;">
                    
                </div>

                
                                <div class="reward_area tc reward_area_primary" id="js_reward_area" style="display:none;">
                    <div class="reward-avatar" style="display: none;" id="js_reward_avatar">
                        <img src="" alt="" id="js_reward_author_head">
                    </div>
                    
                                        <div class="reward-author" style="display: none;" id="js_reward_author">乔二爷</div>
                                                            <p>
                        <a class="reward_button" id='js_reward_link' href="##"><span id="js_reward_link_text">赞赏</span></a>
                    </p>
                    <div id="js_reward_inner" class="reward_area_inner" style="display:none;">
                        <p class="weui-loadmore weui-loadmore_line reward_user_tips" id="js_reward_total_parent">
                          <span class="weui-loadmore__tips">
                            <a href="##" id="js_reward_total"></a>&nbsp;<span id="js_reward_total_text">人赞赏</span>
                        </span>
                        </p>
                        
                        <div id="js_reward_list" class="reward_user_list"></div>
                    </div>
                </div>
                                <div class="reward_qrcode_area reward_area tc" id="js_reward_qrcode" style="display:none;">
                    <p class="tips_global">长按二维码向我转账</p>
                                        <p class="reward_tips"></p>
                    <span class="reward_qrcode_img_wrp"><img class="reward_qrcode_img" id="js_reward_qrcode_img"></span>
                    <p class="tips_global">受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。</p>
                </div>
                                                
                
                                <a class="original_tool_area" id="copyright_info" href="##" style="visibility:hidden">
                    <div class="flex_cell original_cell">
                        <div class="flex_cell_bd flex_cell_primary">
                          <p class="original_tool_tips tips_global_primary">文章转载自公众号</p>
                        </div>
                        <div class="flex_cell_ft icon_access">
                            <span class="radius_avatar">
                                                                <img class="avatar" src="http://wx.qlogo.cn/mmhead/Q3auHgzwzM7ibC3icT9p4Ej4KDZK6NniaB5aaV0vAEiazo4zOWflibpibHiaQ/0" alt="Java极客技术">
                                                            </span>
                            <strong class="original_cell_nickname">
                              Java极客技术
                            </strong>
                        </div>
                    </div>
                </a>
                            </div>
	</div>
	<div class='dy_all'>
		<a href='https://t.zsxq.com/iYZ3zrR' target='_blank'>
			阅读全文
		</a>
	</div>
</body>