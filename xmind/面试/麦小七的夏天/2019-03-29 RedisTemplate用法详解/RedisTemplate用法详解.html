<!DOCTYPE html>
<head>
	<meta http-equiv='Content-Type' content='text/html;charset=utf-8'>
	<meta name='viewport' content='width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no'>
	<title>
		RedisTemplate用法详解
	</title>
	<script src='https://cdn.bootcss.com/jquery/1.10.2/jquery.min.js'>
	</script>
	<style>
		a {color: #607fa6;text-decoration:none;word-wrap:break-word;word-break:break-all;}.rich_media_title{padding-bottom:10px;margin-bottom:14px;border-bottom:1px
		solid #e7e7eb;}.rich_media_meta{display:inline-block;vertical-align:middle;margin-right:8px;margin-bottom:10px;font-size:16px;}.rich_media_meta_text{color:#8c8c8c;}.rich_media_meta_list
		em {font-style: normal;}@media screen and (max-width:768px){.rich_media{position:
		relative;padding: 20px 15px 15px;background-color: #fff;}}.rich_media_content
		* {max-width: 100%!important;box-sizing: border-box!important;-webkit-box-sizing:
		border-box!important;word-wrap: break-word!important;}.rich_media_content
		blockquote {margin: 0;padding-left: 10px;border-left: 3px solid #dbdbdb;}.rich_media_content
		.list-paddingleft-2 {padding-left: 2.2em;}a.rich_media_meta_nickname{display:
		none;}@media screen and (min-width:1025px){.rich_media{position:relative;}a.rich_media_meta_nickname{display:inline-block!important;}span.rich_media_meta_nickname
		{display: inline-block!important;}.rich_media {width:670px;margin-left:auto;margin-right:auto;}}a.fwjm{display:
		block;font-size: 12px;color: #ececec;}.tenvideo_player {position: relative;width:
		100 %;height: 100 %;margin: auto;background: #000;}* {margin:0px;padding:0px}
		.dy_all {text-align: center;margin: 30px 0;} .dy_all a {display: inline-block;height:
		38px;line-height: 38px;padding: 0 18px;background-color: #009688;color:
		#fff;white-space: nowrap;font-size: 14px;border: none;border-radius: 2px;cursor:
		pointer;text-align: center;outline: 0;-webkit-appearance: none;transition:
		all .3s;-webkit-transition: all .3s;box-sizing: border-box;}
	</style>
</head>
<body>
	<div id='js_article' class='rich_media'>
		<div>
			<a href='https://mp.weixin.qq.com/s?src=11&timestamp=1556542844&ver=1576&signature=Pc9duVM05*wWGBXdCNPKy8MUaWScnwhhvLUql50Xd3vQNhiKPsvuYs*cxTFh5tCcV2P1u*0v-oZT2hOPKh*KLXSoBLYtFJW5S5Vs2TD2Poo9PSvrCJADJPMO-MIDsSWk&new=1' target='_blank'>
				https://mp.weixin.qq.com/s?src=11&timestamp=1556542844&ver=1576&signature=Pc9duVM05*wWGBXdCNPKy8MUaWScnwhhvLUql50Xd3vQNhiKPsvuYs*cxTFh5tCcV2P1u*0v-oZT2hOPKh*KLXSoBLYtFJW5S5Vs2TD2Poo9PSvrCJADJPMO-MIDsSWk&new=1
			</a>
			<br/>
			<a href='https://www.52pojie.cn' class='fwjm' target='_blank'>
				提供的爬取软件来源于：52pojie.cn@夜泉 免费下载使用
			</a>
		</div>
		<div id="img-content">

                
                <h2 class="rich_media_title" id="activity-name">RedisTemplate用法详解</h2>
                <div id="meta_content" class="rich_media_meta_list">
                                                            <span id="copyright_logo" class="rich_media_meta rich_media_meta_text meta_tag_text">原创：</span>
                                                            <span class="rich_media_meta rich_media_meta_text">
                                                <span id="js_author_name" class="rich_media_meta_link" data-rewardsn="" data-timestamp="" data-canreward="0">麦小刚</span>
                                            </span>
                                        
                                                                                                            <span class="rich_media_meta rich_media_meta_nickname" id="profileBt"><a href="javascript:void(0);">麦小七的夏天</a>
                      <div id="js_profile_qrcode" class="profile_container" style="display:none;">
                          <div class="profile_inner">
                              <strong class="profile_nickname">麦小七的夏天</strong>
                              <img class="profile_avatar" id="js_profile_qrcode_img" src="" alt="">

                              <p class="profile_meta">
                              <label class="profile_meta_label">微信号</label>
                              <span class="profile_meta_value"></span>
                              </p>

                              <p class="profile_meta">
                              <label class="profile_meta_label">功能介绍</label>
                              <span class="profile_meta_value">万事从人，百年皆客。</span>
                              </p>
                              
                          </div>
                          <span class="profile_arrow_wrp" id="js_profile_arrow_wrp">
                              <i class="profile_arrow arrow_out"></i>
                              <i class="profile_arrow arrow_in"></i>
                          </span>
                      </div>
                    </span>


                    <em id="publish_time" class="rich_media_meta rich_media_meta_text">2019-03-29</em>





                </div>
                
                
                
                
                                                
                                                                
                                
                
                <div class="rich_media_content " id="js_content">
                    

                    

                    
                    
                    <p style="text-align: left;"><span style="background-color: rgb(255, 255, 255);color: rgb(79, 79, 79);font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size: 16px;">Redis 可以存储键与5种不同数据结构类型之间的映射，这5种数据结构类型分别为String（字符串）、List（列表）、Set（集合）、Hash（散列）和 Zset（有序集合）。</span><br  /></p><p style="text-align: left;"><strong style="color: rgb(0, 0, 0);font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 21px;"><br  /></strong></p><p style="text-align: left;"><strong style="color: rgb(0, 0, 0);font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 21px;">RedisTemplate介绍</strong><br  /></p><p style="text-align: left;"><span style="color: rgb(79, 79, 79);font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size: 16px;text-align: start;background-color: rgb(255, 255, 255);"><span style="color: rgb(0, 0, 0);font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 14px;text-align: left;background-color: rgb(255, 255, 255);">Spring封装了RedisTemplate对象来进行对Redis的各种操作，它支持所有的Redis原生的api。</span></span></p><p style="text-align: left;"><span style="color: rgb(79, 79, 79);font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size: 16px;text-align: start;background-color: rgb(255, 255, 255);"><span style="color: rgb(0, 0, 0);font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 14px;text-align: left;background-color: rgb(255, 255, 255);"><span style="color: rgb(0, 0, 0);font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 14px;text-align: left;background-color: rgb(255, 255, 255);"></span></span></span></p><p style="margin: 10px auto;color: rgb(0, 0, 0);font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 14px;text-align: left;white-space: normal;background-color: rgb(255, 255, 255);">Type Parameters:<br  />K：模板中的Redis key的类型（通常为String）如：RedisTemplate&lt;String, Object&gt;</p><p style="margin: 10px auto;color: rgb(0, 0, 0);font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 14px;text-align: left;white-space: normal;background-color: rgb(255, 255, 255);">注意：<strong>如果没特殊情况，切勿定义成RedisTemplate&lt;Object, Object&gt;</strong>，否则根据里氏替换原则，使用的时候会造成类型错误 。</p><p style="margin: 10px auto;color: rgb(0, 0, 0);font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 14px;text-align: left;white-space: normal;background-color: rgb(255, 255, 255);">V：模板中的Redis value的类型</p><h2><span style="font-size: 20px;"><strong><br  /></strong></span></h2><h2><span style="font-size: 20px;"><strong>单机redis使用工具类</strong></span></h2><h3 style="box-sizing: border-box;outline: 0px;margin-top: 8px;margin-bottom: 16px;font-size: 22px;font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;color: rgb(79, 79, 79);font-weight: 700;line-height: 30px;word-wrap: break-word;font-variant-ligatures: common-ligatures;text-align: start;white-space: normal;background-color: rgb(255, 255, 255);"><span style="font-size: 16px;">application.properties配置内容</span></h3><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="apache"><code><span class="code-snippet_outer"><span class="code-snippet__comment">#redis配置</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment">#单机模式</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment">#redis数据库索引，默认为0</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__attribute">spring</span>.redis.database=0</span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment">#redis服务器地址</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__attribute">spring</span>.redis.host=127.0.0.1</span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment">#redis服务器连接端口号</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__attribute">spring</span>.redis.port=6379</span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment">#redis服务器连接密码，默认为空</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__attribute">spring</span>.redis.password=</span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment">#redis连接池最大活跃连接数</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__attribute">spring</span>.redis.pool.max-active=100</span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment">#redis连接池最大阻塞等待时间</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__attribute">spring</span>.redis.pool.max.wait=-1</span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment">#redis连接池最大空闲连接数</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__attribute">srping</span>.redis.pool.max-idle=8</span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment">#redis连接池最小空闲连接数</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__attribute">spring</span>.redis.pool.min-idle=0</span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment">#redis连接池超时时间，单位为毫秒</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__attribute">spring</span>.redis.pool.timeout=60000</span></code></pre></section><p style="text-align: left;"><span style="color: rgb(79, 79, 79);font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size: 16px;text-align: start;background-color: rgb(255, 255, 255);"><br  /></span></p><p><span style="font-size: 15px;"><strong>Redis的String数据结构&nbsp;</strong></span></p><p><span style="font-size: 15px;">set void set(K key, V value);</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li></ul><pre class="code-snippet__js" data-lang="http"><code><span class="code-snippet_outer"><span class="code-snippet__attribute">redisTemplate.opsForValue().set("num","123");</span></span></code><code><span class="code-snippet_outer">redisTemplate.opsForValue().get("num")  输出结果为123</span></code></pre></section><p>set&nbsp;void&nbsp;set(K&nbsp;key,&nbsp;V&nbsp;value,&nbsp;long&nbsp;timeout,&nbsp;TimeUnit&nbsp;unit);&nbsp;</p><p><span style="font-size: 15px;"></span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li></ul><pre class="code-snippet__js" data-lang="cs"><code><span class="code-snippet_outer">redisTemplate.opsForValue().<span class="code-snippet__keyword">set</span>(<span class="code-snippet__string">"num"</span>,<span class="code-snippet__string">"123"</span>,<span class="code-snippet__number">10</span>, TimeUnit.SECONDS);</span></code><code><span class="code-snippet_outer">redisTemplate.opsForValue().<span class="code-snippet__keyword">get</span>(<span class="code-snippet__string">"num"</span>)设置的是<span class="code-snippet__number">10</span>秒失效，十秒之内查询有结果，十秒之后返回为<span class="code-snippet__literal">null</span></span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">set void set(K key, V value, long offset);</span></p><p><span style="font-size: 15px;">覆写(overwrite)给定 key 所储存的字符串值，从偏移量 offset 开始</span></p><p><span style="font-size: 15px;"></span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="cpp"><code><span class="code-snippet_outer"><span class="code-snippet__keyword">template</span>.opsForValue().<span class="code-snippet__built_in">set</span>(<span class="code-snippet__string">"key"</span>,<span class="code-snippet__string">"hello world"</span>);</span></code><code><span class="code-snippet_outer"><span class="code-snippet__keyword">template</span>.opsForValue().<span class="code-snippet__built_in">set</span>(<span class="code-snippet__string">"key"</span>,<span class="code-snippet__string">"redis"</span>, <span class="code-snippet__number">6</span>);</span></code><code><span class="code-snippet_outer">System.out.println(<span class="code-snippet__string">"***************"</span>+<span class="code-snippet__keyword">template</span>.opsForValue().get(<span class="code-snippet__string">"key"</span>));</span></code><code><span class="code-snippet_outer">结果：***************hello redis</span></code></pre></section><p><span style="font-size: 15px;"><br  /></span></p><p><span style="font-size: 15px;">get V get(Object key);</span></p><p><span style="font-size: 15px;"></span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="cs"><code><span class="code-snippet_outer">template.opsForValue().<span class="code-snippet__keyword">set</span>(<span class="code-snippet__string">"key"</span>,<span class="code-snippet__string">"欢迎关注麦小七的夏天"</span>);</span></code><code><span class="code-snippet_outer">System.<span class="code-snippet__keyword">out</span>.println(<span class="code-snippet__string">"***************"</span>+template.opsForValue().<span class="code-snippet__keyword">get</span>(<span class="code-snippet__string">"key"</span>));</span></code><code><span class="code-snippet_outer">结果：***************欢迎关注麦小七的夏天</span></code></pre></section><p><span style="font-size: 15px;"><br  /></span></p><p><span style="font-size: 15px;">getAndSet V getAndSet(K key, V value);&nbsp;</span></p><p><span style="font-size: 15px;">设置键的字符串值并返回其旧值</span><br  /></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="cs"><code><span class="code-snippet_outer">template.opsForValue().<span class="code-snippet__keyword">set</span>(<span class="code-snippet__string">"getSetTest"</span>,<span class="code-snippet__string">"test"</span>);</span></code><code><span class="code-snippet_outer">System.<span class="code-snippet__keyword">out</span>.println(template.opsForValue().getAndSet(<span class="code-snippet__string">"getSetTest"</span>,<span class="code-snippet__string">"test2"</span>));</span></code><code><span class="code-snippet_outer">结果：test</span></code></pre></section><p><br  /></p><p>append&nbsp;Integer&nbsp;append(K&nbsp;key,&nbsp;String&nbsp;value);</p><p><span style="font-size: 15px;">如果key已经存在并且是一个字符串，则该命令将该值追加到字符串的末尾。如果键不存在，则它被创建并设置为空字符串，因此APPEND在这种特殊情况下将类似于SET。</span><br  /></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="css"><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForValue</span>()<span class="code-snippet__selector-class">.append</span>("<span class="code-snippet__selector-tag">test</span>","欢迎关注");</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForValue</span>()<span class="code-snippet__selector-class">.get</span>("<span class="code-snippet__selector-tag">test</span>"));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForValue</span>()<span class="code-snippet__selector-class">.append</span>("<span class="code-snippet__selector-tag">test</span>","麦小七的夏天");</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForValue</span>()<span class="code-snippet__selector-class">.get</span>("<span class="code-snippet__selector-tag">test</span>"));</span></code><code><span class="code-snippet_outer">欢迎关注</span></code><code><span class="code-snippet_outer">欢迎关注麦小七的夏天</span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">size Long size(K key);</span></p><p><span style="font-size: 15px;">返回key所对应的value值得长度</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="cpp"><code><span class="code-snippet_outer"><span class="code-snippet__keyword">template</span>.opsForValue().<span class="code-snippet__built_in">set</span>(<span class="code-snippet__string">"key"</span>,<span class="code-snippet__string">"麦小七的夏天"</span>);</span></code><code><span class="code-snippet_outer">System.out.println(<span class="code-snippet__string">"***************"</span>+<span class="code-snippet__keyword">template</span>.opsForValue().size(<span class="code-snippet__string">"key"</span>));</span></code><code><span class="code-snippet_outer">***************<span class="code-snippet__number">6</span></span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 20px;"><strong>Redis的List数据结构</strong></span></p><p><span style="font-size: 15px;">Long size(K key);</span></p><p><span style="font-size: 15px;">返回存储在键中的列表的长度。如果键不存在，则将其解释为空列表，并返回0。当key存储的值不是列表时返回错误。</span></p><p><br  /></p><p><span style="font-size: 15px;"></span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li></ul><pre class="code-snippet__js" data-lang="css"><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForList</span>()<span class="code-snippet__selector-class">.size</span>("<span class="code-snippet__selector-tag">list</span>"));</span></code><code><span class="code-snippet_outer">6</span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">Long leftPush(K key, V value);</span></p><p><span style="font-size: 15px;">将所有指定的值插入存储在键的列表的头部。如果键不存在，则在执行推送操作之前将其创建为空列表。（从左边插入）</span></p><p><br  /></p><p><span style="font-size: 15px;"></span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="cpp"><code><span class="code-snippet_outer"><span class="code-snippet__keyword">template</span>.opsForList().leftPush(<span class="code-snippet__string">"list"</span>,<span class="code-snippet__string">"java"</span>);</span></code><code><span class="code-snippet_outer"><span class="code-snippet__keyword">template</span>.opsForList().leftPush(<span class="code-snippet__string">"list"</span>,<span class="code-snippet__string">"python"</span>);</span></code><code><span class="code-snippet_outer"><span class="code-snippet__keyword">template</span>.opsForList().leftPush(<span class="code-snippet__string">"list"</span>,<span class="code-snippet__string">"c++"</span>);</span></code><code><span class="code-snippet_outer">返回的结果为推送操作后的列表的长度</span></code><code><span class="code-snippet_outer"><span class="code-snippet__number">1</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__number">2</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__number">3</span></span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">Long leftPushAll(K key, V... values);</span></p><p><span style="font-size: 15px;">批量把一个数组插入到列表中</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="javascript"><code><span class="code-snippet_outer"><span class="code-snippet__built_in">String</span>[] strs = <span class="code-snippet__keyword">new</span> <span class="code-snippet__built_in">String</span>[]{<span class="code-snippet__string">"1"</span>,<span class="code-snippet__string">"2"</span>,<span class="code-snippet__string">"3"</span>};</span></code><code><span class="code-snippet_outer">template.opsForList().leftPushAll(<span class="code-snippet__string">"list"</span>,strs);</span></code><code><span class="code-snippet_outer">System.out.println(template.opsForList().range(<span class="code-snippet__string">"list"</span>,<span class="code-snippet__number">0</span>,<span class="code-snippet__number">-1</span>));</span></code><code><span class="code-snippet_outer">[<span class="code-snippet__number">3</span>, <span class="code-snippet__number">2</span>, <span class="code-snippet__number">1</span>]</span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">Long rightPush(K key, V value);</span></p><p><span style="font-size: 15px;">将所有指定的值插入存储在键的列表的头部。如果键不存在，则在执行推送操作之前将其创建为空列表。（从右边插入）</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="cpp"><code><span class="code-snippet_outer"><span class="code-snippet__keyword">template</span>.opsForList().rightPush(<span class="code-snippet__string">"listRight"</span>,<span class="code-snippet__string">"java"</span>);</span></code><code><span class="code-snippet_outer"><span class="code-snippet__keyword">template</span>.opsForList().rightPush(<span class="code-snippet__string">"listRight"</span>,<span class="code-snippet__string">"python"</span>);</span></code><code><span class="code-snippet_outer"><span class="code-snippet__keyword">template</span>.opsForList().rightPush(<span class="code-snippet__string">"listRight"</span>,<span class="code-snippet__string">"c++"</span>);</span></code><code><span class="code-snippet_outer"><span class="code-snippet__number">1</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__number">2</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__number">3</span></span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">Long rightPushAll(K key, V... values);</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="javascript"><code><span class="code-snippet_outer"><span class="code-snippet__built_in">String</span>[] strs = <span class="code-snippet__keyword">new</span> <span class="code-snippet__built_in">String</span>[]{<span class="code-snippet__string">"1"</span>,<span class="code-snippet__string">"2"</span>,<span class="code-snippet__string">"3"</span>};</span></code><code><span class="code-snippet_outer">template.opsForList().rightPushAll(<span class="code-snippet__string">"list"</span>,strs);</span></code><code><span class="code-snippet_outer">System.out.println(template.opsForList().range(<span class="code-snippet__string">"list"</span>,<span class="code-snippet__number">0</span>,<span class="code-snippet__number">-1</span>));</span></code><code><span class="code-snippet_outer">[<span class="code-snippet__number">1</span>, <span class="code-snippet__number">2</span>, <span class="code-snippet__number">3</span>]</span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">void set(K key, long index, V value);</span></p><p><span style="font-size: 15px;">在列表中index的位置设置value值</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="css"><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForList</span>()<span class="code-snippet__selector-class">.range</span>("<span class="code-snippet__selector-tag">listRight</span>",0,<span class="code-snippet__selector-tag">-1</span>));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForList</span>()<span class="code-snippet__selector-class">.set</span>("<span class="code-snippet__selector-tag">listRight</span>",1,"<span class="code-snippet__selector-tag">setValue</span>");</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForList</span>()<span class="code-snippet__selector-class">.range</span>("<span class="code-snippet__selector-tag">listRight</span>",0,<span class="code-snippet__selector-tag">-1</span>));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-attr">[java, python, oc, c++]</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-attr">[java, setValue, oc, c++]</span></span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">Long remove(K key, long count, Object value);</span></p><p><span style="font-size: 15px;">从存储在键中的列表中删除等于值的元素的第一个计数事件。</span></p><p><span style="font-size: 15px;">计数参数以下列方式影响操作：</span></p><p><span style="font-size: 15px;">count&gt; 0：删除等于从头到尾移动的值的元素。</span></p><p><span style="font-size: 15px;">count &lt;0：删除等于从尾到头移动的值的元素。</span></p><p><span style="font-size: 15px;">count = 0：删除等于value的所有元素。</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="cs"><code><span class="code-snippet_outer">System.<span class="code-snippet__keyword">out</span>.println(template.opsForList().range(<span class="code-snippet__string">"listRight"</span>,<span class="code-snippet__number">0</span>,<span class="code-snippet__number">-1</span>));</span></code><code><span class="code-snippet_outer">template.opsForList().<span class="code-snippet__keyword">remove</span>(<span class="code-snippet__string">"listRight"</span>,<span class="code-snippet__number">1</span>,<span class="code-snippet__string">"setValue"</span>);<span class="code-snippet__comment">//将删除列表中存储的列表中第一次次出现的“setValue”。</span></span></code><code><span class="code-snippet_outer">System.<span class="code-snippet__keyword">out</span>.println(template.opsForList().range(<span class="code-snippet__string">"listRight"</span>,<span class="code-snippet__number">0</span>,<span class="code-snippet__number">-1</span>));</span></code><code><span class="code-snippet_outer">[<span class="code-snippet__meta">java, setValue, oc, c++</span>]</span></code><code><span class="code-snippet_outer">[<span class="code-snippet__meta">java, oc, c++</span>]</span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">V index(K key, long index);</span></p><p><span style="font-size: 15px;">根据下表获取列表中的值，下标是从0开始的</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="css"><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForList</span>()<span class="code-snippet__selector-class">.range</span>("<span class="code-snippet__selector-tag">listRight</span>",0,<span class="code-snippet__selector-tag">-1</span>));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForList</span>()<span class="code-snippet__selector-class">.index</span>("<span class="code-snippet__selector-tag">listRight</span>",2));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-attr">[java, oc, c++]</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">c</span>++</span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">V leftPop(K key);</span></p><p><span style="font-size: 15px;">弹出最左边的元素，弹出之后该值在列表中将不复存在</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="css"><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForList</span>()<span class="code-snippet__selector-class">.range</span>("<span class="code-snippet__selector-tag">list</span>",0,<span class="code-snippet__selector-tag">-1</span>));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForList</span>()<span class="code-snippet__selector-class">.leftPop</span>("<span class="code-snippet__selector-tag">list</span>"));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForList</span>()<span class="code-snippet__selector-class">.range</span>("<span class="code-snippet__selector-tag">list</span>",0,<span class="code-snippet__selector-tag">-1</span>));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-attr">[c++, python, oc, java, c#, c#]</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">c</span>++</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-attr">[python, oc, java, c#, c#]</span></span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">V rightPop(K key);</span></p><p><span style="font-size: 15px;">弹出最右边的元素，弹出之后该值在列表中将不复存在</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="css"><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForList</span>()<span class="code-snippet__selector-class">.range</span>("<span class="code-snippet__selector-tag">list</span>",0,<span class="code-snippet__selector-tag">-1</span>));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForList</span>()<span class="code-snippet__selector-class">.rightPop</span>("<span class="code-snippet__selector-tag">list</span>"));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForList</span>()<span class="code-snippet__selector-class">.range</span>("<span class="code-snippet__selector-tag">list</span>",0,<span class="code-snippet__selector-tag">-1</span>));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-attr">[python, oc, java, c#, c#]</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">c</span>#</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-attr">[python, oc, java, c#]</span></span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><strong><span style="font-size: 20px;">Redis的Hash数据机构</span></strong></p><p><span style="font-size: 15px;">Long delete(H key, Object... hashKeys);</span></p><p><span style="font-size: 15px;">删除给定的哈希hashKeys</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="kotlin"><code><span class="code-snippet_outer">System.<span class="code-snippet__keyword">out</span>.println(template.opsForHash().delete(<span class="code-snippet__string">"redisHash"</span>,<span class="code-snippet__string">"name"</span>));</span></code><code><span class="code-snippet_outer">System.<span class="code-snippet__keyword">out</span>.println(template.opsForHash().entries(<span class="code-snippet__string">"redisHash"</span>));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__number">1</span></span></code><code><span class="code-snippet_outer">{<span class="code-snippet__class"><span class="code-snippet__keyword">class</span>=6, <span class="code-snippet__type">age=28.1}</span></span></span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">Boolean hasKey(H key, Object hashKey);</span></p><p><span style="font-size: 15px;">确定哈希hashKey是否存在</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="cs"><code><span class="code-snippet_outer">System.<span class="code-snippet__keyword">out</span>.println(template.opsForHash().hasKey(<span class="code-snippet__string">"redisHash"</span>,<span class="code-snippet__string">"666"</span>));</span></code><code><span class="code-snippet_outer">System.<span class="code-snippet__keyword">out</span>.println(template.opsForHash().hasKey(<span class="code-snippet__string">"redisHash"</span>,<span class="code-snippet__string">"777"</span>));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__literal">true</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__literal">false</span></span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">HV get(H key, Object hashKey);</span></p><p><span style="font-size: 15px;">从键中的哈希获取给定hashKey的值</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li></ul><pre class="code-snippet__js" data-lang="cs"><code><span class="code-snippet_outer">System.<span class="code-snippet__keyword">out</span>.println(template.opsForHash().<span class="code-snippet__keyword">get</span>(<span class="code-snippet__string">"redisHash"</span>,<span class="code-snippet__string">"age"</span>));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__number">26</span></span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">&nbsp;Set&lt;HK&gt; keys(H key);</span></p><p><span style="font-size: 15px;">获取key所对应的散列表的key</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="kotlin"><code><span class="code-snippet_outer">System.<span class="code-snippet__keyword">out</span>.println(template.opsForHash().keys(<span class="code-snippet__string">"redisHash"</span>));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment">//redisHash所对应的散列表为{class=1, name=666, age=27}</span></span></code><code><span class="code-snippet_outer">[name, <span class="code-snippet__class"><span class="code-snippet__keyword">class</span>, <span class="code-snippet__type">age]</span></span></span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">Long size(H key);</span></p><p><span style="font-size: 15px;">获取key所对应的散列表的大小个数</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="cs"><code><span class="code-snippet_outer">System.<span class="code-snippet__keyword">out</span>.println(template.opsForHash().size(<span class="code-snippet__string">"redisHash"</span>));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment">//redisHash所对应的散列表为{class=1, name=666, age=27}</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__number">3</span></span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">&nbsp;void putAll(H key, Map&lt;? extends HK, ? extends HV&gt; m);</span></p><p><span style="font-size: 15px;">使用m中提供的多个散列字段设置到key对应的散列表中</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="javascript"><code><span class="code-snippet_outer"><span class="code-snippet__built_in">Map</span>&lt;<span class="code-snippet__built_in">String</span>,<span class="code-snippet__built_in">Object</span>&gt; testMap = <span class="code-snippet__keyword">new</span> HashMap();</span></code><code><span class="code-snippet_outer">testMap.put(<span class="code-snippet__string">"name"</span>,<span class="code-snippet__string">"666"</span>);</span></code><code><span class="code-snippet_outer">testMap.put(<span class="code-snippet__string">"age"</span>,<span class="code-snippet__number">27</span>);</span></code><code><span class="code-snippet_outer">testMap.put(<span class="code-snippet__string">"class"</span>,<span class="code-snippet__string">"1"</span>);</span></code><code><span class="code-snippet_outer">template.opsForHash().putAll(<span class="code-snippet__string">"redisHash1"</span>,testMap);</span></code><code><span class="code-snippet_outer">System.out.println(template.opsForHash().entries(<span class="code-snippet__string">"redisHash1"</span>));</span></code><code><span class="code-snippet_outer">{<span class="code-snippet__class"><span class="code-snippet__keyword">class</span></span>=<span class="code-snippet__number">1</span>, name=jack, age=<span class="code-snippet__number">27</span>}</span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p style="text-align: left;"><span style="font-size: 15px;">&nbsp;void put(H key, HK hashKey, HV value);</span></p><p style="text-align: left;"><span style="font-size: 15px;">设置散列hashKey的值</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="cpp"><code><span class="code-snippet_outer"><span class="code-snippet__keyword">template</span>.opsForHash().put(<span class="code-snippet__string">"redisHash"</span>,<span class="code-snippet__string">"name"</span>,<span class="code-snippet__string">"666"</span>);</span></code><code><span class="code-snippet_outer"><span class="code-snippet__keyword">template</span>.opsForHash().put(<span class="code-snippet__string">"redisHash"</span>,<span class="code-snippet__string">"age"</span>,<span class="code-snippet__number">26</span>);</span></code><code><span class="code-snippet_outer"><span class="code-snippet__keyword">template</span>.opsForHash().put(<span class="code-snippet__string">"redisHash"</span>,<span class="code-snippet__string">"class"</span>,<span class="code-snippet__string">"6"</span>);</span></code><code><span class="code-snippet_outer">System.out.println(<span class="code-snippet__keyword">template</span>.opsForHash().entries(<span class="code-snippet__string">"redisHash"</span>));</span></code><code><span class="code-snippet_outer">{age=<span class="code-snippet__number">26</span>, class=<span class="code-snippet__number">6</span>, name=<span class="code-snippet__number">666</span>}</span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p style="text-align: left;"><span style="font-size: 15px;">&nbsp;List&lt;HV&gt; values(H key);</span></p><p style="text-align: left;"><span style="font-size: 15px;">获取整个哈希存储的值根据密钥</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li></ul><pre class="code-snippet__js" data-lang="css"><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForHash</span>()<span class="code-snippet__selector-class">.values</span>("<span class="code-snippet__selector-tag">redisHash</span>"));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-attr">[tom, 26, 6]</span></span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p style="text-align: left;"><span style="font-size: 15px;">&nbsp;Map&lt;HK, HV&gt; entries(H key);</span></p><p style="text-align: left;"><span style="font-size: 15px;">获取整个哈希存储根据密钥</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li></ul><pre class="code-snippet__js" data-lang="kotlin"><code><span class="code-snippet_outer">System.<span class="code-snippet__keyword">out</span>.println(template.opsForHash().entries(<span class="code-snippet__string">"redisHash"</span>));</span></code><code><span class="code-snippet_outer">{age=<span class="code-snippet__number">26</span>, <span class="code-snippet__class"><span class="code-snippet__keyword">class</span>=6, <span class="code-snippet__type">name=tom}</span></span></span></code></pre></section><p style="text-align: left;"><span style="font-size: 15px;"></span><br  /></p><p style="text-align: left;"><span style="font-size: 15px;">&nbsp;Cursor&lt;Map.Entry&lt;HK, HV&gt;&gt; scan(H key, ScanOptions options);</span></p><p style="text-align: left;"><span style="font-size: 15px;">使用Cursor在key的hash中迭代，相当于迭代器。</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="typescript"><code><span class="code-snippet_outer">Cursor&lt;Map.Entry&lt;<span class="code-snippet__built_in">Object</span>, <span class="code-snippet__built_in">Object</span>&gt;&gt; curosr = template.opsForHash().scan(<span class="code-snippet__string">"redisHash"</span>, </span></code><code><span class="code-snippet_outer">  ScanOptions.ScanOptions.NONE);</span></code><code><span class="code-snippet_outer">    <span class="code-snippet__keyword">while</span>(curosr.hasNext()){</span></code><code><span class="code-snippet_outer">        Map.Entry&lt;<span class="code-snippet__built_in">Object</span>, <span class="code-snippet__built_in">Object</span>&gt; entry = curosr.next();</span></code><code><span class="code-snippet_outer">        System.out.println(entry.getKey()+<span class="code-snippet__string">":"</span>+entry.getValue());</span></code><code><span class="code-snippet_outer">    }</span></code><code><span class="code-snippet_outer">age:<span class="code-snippet__number">27</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__keyword">class</span>:<span class="code-snippet__number">6</span></span></code><code><span class="code-snippet_outer">name:<span class="code-snippet__number">666</span></span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><strong><span style="font-size: 20px;">Redis的Set数据结构</span></strong></p><p style="text-align: left;"><span style="font-size: 15px;">Long add(K key, V... values);</span></p><p style="text-align: left;"><span style="font-size: 15px;">无序集合中添加元素，返回添加个数</span></p><p style="text-align: left;"><span style="font-size: 15px;">也可以直接在add里面添加多个值 如：template.opsForSet().add("setTest","aaa","bbb")</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="javascript"><code><span class="code-snippet_outer"><span class="code-snippet__built_in">String</span>[] strs= <span class="code-snippet__keyword">new</span> <span class="code-snippet__built_in">String</span>[]{<span class="code-snippet__string">"str1"</span>,<span class="code-snippet__string">"str2"</span>};</span></code><code><span class="code-snippet_outer">System.out.println(template.opsForSet().add(<span class="code-snippet__string">"setTest"</span>, strs));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__number">2</span></span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p style="text-align: left;"><span style="font-size: 15px;">&nbsp;Long remove(K key, Object... values);</span></p><p style="text-align: left;"><span style="font-size: 15px;">移除集合中一个或多个成员</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="javascript"><code><span class="code-snippet_outer"><span class="code-snippet__built_in">String</span>[] strs = <span class="code-snippet__keyword">new</span> <span class="code-snippet__built_in">String</span>[]{<span class="code-snippet__string">"str1"</span>,<span class="code-snippet__string">"str2"</span>};</span></code><code><span class="code-snippet_outer">System.out.println(template.opsForSet().remove(<span class="code-snippet__string">"setTest"</span>,strs));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__number">2</span></span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p style="text-align: left;"><span style="font-size: 15px;">&nbsp;V pop(K key);</span></p><p style="text-align: left;"><span style="font-size: 15px;">移除并返回集合中的一个随机元素</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="css"><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForSet</span>()<span class="code-snippet__selector-class">.pop</span>("<span class="code-snippet__selector-tag">setTest</span>"));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForSet</span>()<span class="code-snippet__selector-class">.members</span>("<span class="code-snippet__selector-tag">setTest</span>"));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">bbb</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-attr">[aaa, ccc]</span></span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">&nbsp;Boolean move(K key, V value, K destKey);</span></p><p><span style="font-size: 15px;">将 member 元素从 source 集合移动到 destination 集合</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="css"><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForSet</span>()<span class="code-snippet__selector-class">.move</span>("<span class="code-snippet__selector-tag">setTest</span>","<span class="code-snippet__selector-tag">aaa</span>","<span class="code-snippet__selector-tag">setTest2</span>");</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForSet</span>()<span class="code-snippet__selector-class">.members</span>("<span class="code-snippet__selector-tag">setTest</span>"));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForSet</span>()<span class="code-snippet__selector-class">.members</span>("<span class="code-snippet__selector-tag">setTest2</span>"));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-attr">[ccc]</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-attr">[aaa]</span></span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">&nbsp;Long size(K key);</span></p><p><span style="font-size: 15px;">无序集合的大小长度</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li></ul><pre class="code-snippet__js" data-lang="css"><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForSet</span>()<span class="code-snippet__selector-class">.size</span>("<span class="code-snippet__selector-tag">setTest</span>"));</span></code><code><span class="code-snippet_outer">1</span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">Set&lt;V&gt; members(K key);</span></p><p><span style="font-size: 15px;">返回集合中的所有成员</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li></ul><pre class="code-snippet__js" data-lang="css"><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForSet</span>()<span class="code-snippet__selector-class">.members</span>("<span class="code-snippet__selector-tag">setTest</span>"));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-attr">[ddd, bbb, aaa, ccc]</span></span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">&nbsp;Cursor&lt;V&gt; scan(K key, ScanOptions options);</span></p><p><span style="font-size: 15px;">遍历set</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="javascript"><code><span class="code-snippet_outer">Cursor&lt;<span class="code-snippet__built_in">Object</span>&gt; curosr = template.opsForSet().scan(<span class="code-snippet__string">"setTest"</span>, ScanOptions.NONE);</span></code><code><span class="code-snippet_outer">  <span class="code-snippet__keyword">while</span>(curosr.hasNext()){</span></code><code><span class="code-snippet_outer">     System.out.println(curosr.next());</span></code><code><span class="code-snippet_outer">  }</span></code><code><span class="code-snippet_outer">ddd</span></code><code><span class="code-snippet_outer">bbb</span></code><code><span class="code-snippet_outer">aaa</span></code><code><span class="code-snippet_outer">ccc</span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><strong><span style="font-size: 20px;">Redis的ZSet数据结构&nbsp;</span></strong></p><p><span style="font-size: 15px;">Boolean add(K key, V value, double score);</span></p><p><span style="font-size: 15px;">新增一个有序集合，存在的话为false，不存在的话为true</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li></ul><pre class="code-snippet__js" data-lang="cs"><code><span class="code-snippet_outer">System.<span class="code-snippet__keyword">out</span>.println(template.opsForZSet().<span class="code-snippet__keyword">add</span>(<span class="code-snippet__string">"zset1"</span>,<span class="code-snippet__string">"zset-1"</span>,<span class="code-snippet__number">1.0</span>));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__literal">true</span></span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">&nbsp;Long add(K key, Set&lt;TypedTuple&lt;V&gt;&gt; tuples);</span></p><p><span style="font-size: 15px;">新增一个有序集合</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="cs"><code><span class="code-snippet_outer">ZSetOperations.TypedTuple&lt;Object&gt; objectTypedTuple1 = <span class="code-snippet__keyword">new</span> DefaultTypedTuple&lt;&gt;(<span class="code-snippet__string">"zset-5"</span>,<span class="code-snippet__number">9.6</span>);</span></code><code><span class="code-snippet_outer">ZSetOperations.TypedTuple&lt;Object&gt; objectTypedTuple2 = <span class="code-snippet__keyword">new</span> DefaultTypedTuple&lt;&gt;(<span class="code-snippet__string">"zset-6"</span>,<span class="code-snippet__number">9.9</span>);</span></code><code><span class="code-snippet_outer">Set&lt;ZSetOperations.TypedTuple&lt;Object&gt;&gt; tuples = <span class="code-snippet__keyword">new</span> HashSet&lt;ZSetOperations.TypedTuple&lt;Object&gt;&gt;();</span></code><code><span class="code-snippet_outer">tuples.<span class="code-snippet__keyword">add</span>(objectTypedTuple1);</span></code><code><span class="code-snippet_outer">tuples.<span class="code-snippet__keyword">add</span>(objectTypedTuple2);</span></code><code><span class="code-snippet_outer">System.<span class="code-snippet__keyword">out</span>.println(template.opsForZSet().<span class="code-snippet__keyword">add</span>(<span class="code-snippet__string">"zset1"</span>,tuples));</span></code><code><span class="code-snippet_outer">System.<span class="code-snippet__keyword">out</span>.println(template.opsForZSet().range(<span class="code-snippet__string">"zset1"</span>,<span class="code-snippet__number">0</span>,<span class="code-snippet__number">-1</span>));</span></code><code><span class="code-snippet_outer">[<span class="code-snippet__meta">zset-1, zset-2, zset-3, zset-4, zset-5, zset-6</span>]</span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">Long remove(K key, Object... values);</span></p><p><span style="font-size: 15px;">从有序集合中移除一个或者多个元素</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="css"><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForZSet</span>()<span class="code-snippet__selector-class">.range</span>("<span class="code-snippet__selector-tag">zset1</span>",0,<span class="code-snippet__selector-tag">-1</span>));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForZSet</span>()<span class="code-snippet__selector-class">.remove</span>("<span class="code-snippet__selector-tag">zset1</span>","<span class="code-snippet__selector-tag">zset-6</span>"));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForZSet</span>()<span class="code-snippet__selector-class">.range</span>("<span class="code-snippet__selector-tag">zset1</span>",0,<span class="code-snippet__selector-tag">-1</span>));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-attr">[zset-1, zset-2, zset-3, zset-4, zset-5, zset-6]</span></span></code><code><span class="code-snippet_outer">1</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-attr">[zset-1, zset-2, zset-3, zset-4, zset-5]</span></span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p style="text-align: left;"><span style="font-size: 15px;">&nbsp;Long rank(K key, Object o);</span></p><p style="text-align: left;"><span style="font-size: 15px;">返回有序集中指定成员的排名，其中有序集成员按分数值递增(从小到大)顺序排列</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="cs"><code><span class="code-snippet_outer">System.<span class="code-snippet__keyword">out</span>.println(template.opsForZSet().range(<span class="code-snippet__string">"zset1"</span>,<span class="code-snippet__number">0</span>,<span class="code-snippet__number">-1</span>));</span></code><code><span class="code-snippet_outer">System.<span class="code-snippet__keyword">out</span>.println(template.opsForZSet().rank(<span class="code-snippet__string">"zset1"</span>,<span class="code-snippet__string">"zset-2"</span>));</span></code><code><span class="code-snippet_outer">[<span class="code-snippet__meta">zset-2, zset-1, zset-3, zset-4, zset-5</span>]</span></code><code><span class="code-snippet_outer"><span class="code-snippet__number">0</span>   <span class="code-snippet__comment">//表明排名第一</span></span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p style="text-align: left;"><span style="font-size: 15px;">Set&lt;V&gt; range(K key, long start, long end);</span></p><p style="text-align: left;"><span style="font-size: 15px;">通过索引区间返回有序集合成指定区间内的成员，其中有序集成员按分数值递增(从小到大)顺序排列</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li></ul><pre class="code-snippet__js" data-lang="http"><code><span class="code-snippet_outer"><span class="code-snippet__attribute">System.out.println(template.opsForZSet().range("zset1",0,-1));</span></span></code><code><span class="code-snippet_outer">[zset-2, zset-1, zset-3, zset-4, zset-5]</span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p style="text-align: left;"><span style="font-size: 15px;">Long count(K key, double min, double max);</span></p><p style="text-align: left;"><span style="font-size: 15px;">通过分数返回有序集合指定区间内的成员个数</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="css"><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForZSet</span>()<span class="code-snippet__selector-class">.rangeByScore</span>("<span class="code-snippet__selector-tag">zset1</span>",0,5));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForZSet</span>()<span class="code-snippet__selector-class">.count</span>("<span class="code-snippet__selector-tag">zset1</span>",0,5));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-attr">[zset-2, zset-1, zset-3]</span></span></code><code><span class="code-snippet_outer">3</span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">Long size(K key);</span></p><p><span style="font-size: 15px;">获取有序集合的成员数，内部调用的就是zCard方法</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li></ul><pre class="code-snippet__js" data-lang="css"><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForZSet</span>()<span class="code-snippet__selector-class">.size</span>("<span class="code-snippet__selector-tag">zset1</span>"));</span></code><code><span class="code-snippet_outer">6</span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">&nbsp;Double score(K key, Object o);</span></p><p><span style="font-size: 15px;">获取指定成员的score值</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li></ul><pre class="code-snippet__js" data-lang="css"><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForZSet</span>()<span class="code-snippet__selector-class">.score</span>("<span class="code-snippet__selector-tag">zset1</span>","<span class="code-snippet__selector-tag">zset-1</span>"));</span></code><code><span class="code-snippet_outer">2<span class="code-snippet__selector-class">.2</span></span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">Long removeRange(K key, long start, long end);</span></p><p><span style="font-size: 15px;">移除指定索引位置的成员，其中有序集成员按分数值递增(从小到大)顺序排列</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="css"><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForZSet</span>()<span class="code-snippet__selector-class">.range</span>("<span class="code-snippet__selector-tag">zset2</span>",0,<span class="code-snippet__selector-tag">-1</span>));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForZSet</span>()<span class="code-snippet__selector-class">.removeRange</span>("<span class="code-snippet__selector-tag">zset2</span>",1,2));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-tag">System</span><span class="code-snippet__selector-class">.out</span><span class="code-snippet__selector-class">.println</span>(<span class="code-snippet__selector-tag">template</span><span class="code-snippet__selector-class">.opsForZSet</span>()<span class="code-snippet__selector-class">.range</span>("<span class="code-snippet__selector-tag">zset2</span>",0,<span class="code-snippet__selector-tag">-1</span>));</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-attr">[zset-1, zset-2, zset-3, zset-4]</span></span></code><code><span class="code-snippet_outer">2</span></code><code><span class="code-snippet_outer"><span class="code-snippet__selector-attr">[zset-1, zset-4]</span></span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">Cursor&lt;TypedTuple&lt;V&gt;&gt; scan(K key, ScanOptions options);</span></p><p><span style="font-size: 15px;">遍历zset</span></p><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="makefile"><code><span class="code-snippet_outer">Cursor&lt;ZSetOperations.TypedTuple&lt;Object&gt;&gt; cursor = template.opsForZSet().scan(<span class="code-snippet__string">"zzset1"</span>, ScanOptions.NONE);</span></code><code><span class="code-snippet_outer">    while (cursor.hasNext()){</span></code><code><span class="code-snippet_outer">       ZSetOperations.TypedTuple&lt;Object&gt; item = cursor.next();</span></code><code><span class="code-snippet_outer">       System.out.println(item.getValue() + <span class="code-snippet__string">":"</span> + item.getScore());</span></code><code><span class="code-snippet_outer">    }</span></code><code><span class="code-snippet_outer"><span class="code-snippet__section">zset-1:1.0</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__section">zset-2:2.0</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__section">zset-3:3.0</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__section">zset-4:6.0</span></span></code></pre></section><p><span style="font-size: 15px;"></span><br  /></p><p><br  /></p><p style="text-align: left;"><span style="color: rgb(79, 79, 79);font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif;font-size: 16px;text-align: start;background-color: rgb(255, 255, 255);"><br  /></span><br  /></p>
                </div>
                

                
  <div class="ct_mpda_wrp" id="js_sponsor_ad_area" style="display: none;"></div>


                
                <div class="read-more__area" id="js_more_read_area" style="display:none;">
                    
                </div>

                
                                <div class="reward_area tc reward_area_primary" id="js_reward_area" style="display:none;">
                    <div class="reward-avatar" style="display: none;" id="js_reward_avatar">
                        <img src="" alt="" id="js_reward_author_head">
                    </div>
                    
                                                                    <div class="reward-author" style="display: none;" id="js_reward_author">麦小刚</div>
                                                                                    <p>
                        <a class="reward_button" id='js_reward_link' href="##"><span id="js_reward_link_text">赞赏</span></a>
                    </p>
                    <div id="js_reward_inner" class="reward_area_inner" style="display:none;">
                        <p class="weui-loadmore weui-loadmore_line reward_user_tips" id="js_reward_total_parent">
                          <span class="weui-loadmore__tips">
                            <a href="##" id="js_reward_total"></a>&nbsp;<span id="js_reward_total_text">人赞赏</span>
                        </span>
                        </p>
                        
                        <div id="js_reward_list" class="reward_user_list"></div>
                    </div>
                </div>
                                <div class="reward_qrcode_area reward_area tc" id="js_reward_qrcode" style="display:none;">
                    <p class="tips_global">长按二维码向我转账</p>
                                        <p class="reward_tips"></p>
                    <span class="reward_qrcode_img_wrp"><img class="reward_qrcode_img" id="js_reward_qrcode_img"></span>
                    <p class="tips_global">受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。</p>
                </div>
                                                
                
                            </div>
	</div>
	<div class='dy_all'>
		<a href='https://www.52pojie.cn' target='_blank'>
			吾爱破解论坛
		</a>
	</div>
</body>